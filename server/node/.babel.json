{
  "{\"filename\":\"/home/app/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/index.js",
      "filenameRelative": "/home/app/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = (0, _express2.default)();\n\napp.get('/', function (req, res) {\n  res.send('Hello World!');\n});\n\napp.listen(3000, function () {\n  console.log('Example app listening on port 3000!');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7QUFDQSxJQUFNQSxNQUFNLHdCQUFaOztBQUVBQSxJQUFJQyxHQUFKLENBQVEsR0FBUixFQUFhLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUM5QkEsTUFBSUMsSUFBSixDQUFTLGNBQVQ7QUFDRCxDQUZEOztBQUlBSixJQUFJSyxNQUFKLENBQVcsSUFBWCxFQUFpQixZQUFXO0FBQzFCQyxVQUFRQyxHQUFSLENBQVkscUNBQVo7QUFDRCxDQUZEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG5hcHAuZ2V0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgcmVzLnNlbmQoJ0hlbGxvIFdvcmxkIScpO1xufSk7XG5cbmFwcC5saXN0ZW4oMzAwMCwgZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCdFeGFtcGxlIGFwcCBsaXN0ZW5pbmcgb24gcG9ydCAzMDAwIScpO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "get",
        "req",
        "res",
        "send",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;;;;;AACA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC9BA,MAAIC,IAAJ,CAAS,cAAT;AACD,CAFD;;AAIAJ,IAAIK,MAAJ,CAAW,IAAX,EAAiB,YAAW;AAC1BC,UAAQC,GAAR,CAAY,qCAAZ;AACD,CAFD",
      "file": "index.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "import express from 'express';\nconst app = express();\n\napp.get('/', function(req, res) {\n  res.send('Hello World!');\n});\n\napp.listen(3000, function() {\n  console.log('Example app listening on port 3000!');\n});\n"
      ]
    },
    "mtime": 1497575089000
  },
  "{\"filename\":\"/home/app/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "routes/api",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "api"
              }
            ]
          },
          {
            "source": "routes/protobuf",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "protobuf"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/index.js",
      "filenameRelative": "/home/app/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _api = require('./routes/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _protobuf = require('./routes/protobuf');\n\nvar _protobuf2 = _interopRequireDefault(_protobuf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = (0, _express2.default)();\n\napp.get('/protobuf', _protobuf2.default);\n\napp.use('/', _api2.default);\n\napp.use(function (req, res, next) {\n  var err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\napp.use(function (err, req, res, next) {\n  res.status(err.status || 500);\n  res.send(err.stack);\n});\n\napp.listen(3000, function () {\n  console.log('Listening on port 3600!');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsImdldCIsInVzZSIsInJlcSIsInJlcyIsIm5leHQiLCJlcnIiLCJFcnJvciIsInN0YXR1cyIsInNlbmQiLCJzdGFjayIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFDQSxJQUFNQSxNQUFNLHdCQUFaOztBQUVBQSxJQUFJQyxHQUFKLENBQVEsV0FBUjs7QUFFQUQsSUFBSUUsR0FBSixDQUFRLEdBQVI7O0FBRUFGLElBQUlFLEdBQUosQ0FBUSxVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUMxQixNQUFJQyxNQUFNLElBQUlDLEtBQUosQ0FBVSxXQUFWLENBQVY7QUFDQUQsTUFBSUUsTUFBSixHQUFhLEdBQWI7QUFDQUgsT0FBS0MsR0FBTDtBQUNELENBSkQ7O0FBTUFOLElBQUlFLEdBQUosQ0FBUSxVQUFDSSxHQUFELEVBQU1ILEdBQU4sRUFBV0MsR0FBWCxFQUFnQkMsSUFBaEIsRUFBeUI7QUFDL0JELE1BQUlJLE1BQUosQ0FBV0YsSUFBSUUsTUFBSixJQUFjLEdBQXpCO0FBQ0FKLE1BQUlLLElBQUosQ0FBU0gsSUFBSUksS0FBYjtBQUNELENBSEQ7O0FBS0FWLElBQUlXLE1BQUosQ0FBVyxJQUFYLEVBQWlCLFlBQU07QUFDckJDLFVBQVFDLEdBQVIsQ0FBWSx5QkFBWjtBQUNELENBRkQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYXBpIGZyb20gJ3JvdXRlcy9hcGknO1xuaW1wb3J0IHByb3RvYnVmIGZyb20gJ3JvdXRlcy9wcm90b2J1Zic7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC5nZXQoJy9wcm90b2J1ZicsIHByb3RvYnVmKTtcblxuYXBwLnVzZSgnLycsIGFwaSk7XG5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ05vdCBGb3VuZCcpO1xuICBlcnIuc3RhdHVzID0gNDA0O1xuICBuZXh0KGVycik7XG59KTtcblxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXMuc3RhdHVzKGVyci5zdGF0dXMgfHwgNTAwKTtcbiAgcmVzLnNlbmQoZXJyLnN0YWNrKTtcbn0pO1xuXG5hcHAubGlzdGVuKDMwMDAsICgpID0+IHtcbiAgY29uc29sZS5sb2coJ0xpc3RlbmluZyBvbiBwb3J0IDM2MDAhJyk7XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "get",
        "use",
        "req",
        "res",
        "next",
        "err",
        "Error",
        "status",
        "send",
        "stack",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,WAAR;;AAEAD,IAAIE,GAAJ,CAAQ,GAAR;;AAEAF,IAAIE,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1B,MAAIC,MAAM,IAAIC,KAAJ,CAAU,WAAV,CAAV;AACAD,MAAIE,MAAJ,GAAa,GAAb;AACAH,OAAKC,GAAL;AACD,CAJD;;AAMAN,IAAIE,GAAJ,CAAQ,UAACI,GAAD,EAAMH,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC/BD,MAAII,MAAJ,CAAWF,IAAIE,MAAJ,IAAc,GAAzB;AACAJ,MAAIK,IAAJ,CAASH,IAAII,KAAb;AACD,CAHD;;AAKAV,IAAIW,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACrBC,UAAQC,GAAR,CAAY,yBAAZ;AACD,CAFD",
      "file": "index.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "import express from 'express';\nimport api from 'routes/api';\nimport protobuf from 'routes/protobuf';\nconst app = express();\n\napp.get('/protobuf', protobuf);\n\napp.use('/', api);\n\napp.use((req, res, next) => {\n  var err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\napp.use((err, req, res, next) => {\n  res.status(err.status || 500);\n  res.send(err.stack);\n});\n\napp.listen(3000, () => {\n  console.log('Listening on port 3600!');\n});\n"
      ]
    },
    "mtime": 1497768853000
  },
  "{\"filename\":\"/home/app/routes/test.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "test",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "test",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/test.js",
      "filenameRelative": "/home/app/routes/test.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "test.js",
      "sourceFileName": "test.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "test"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = test;\nfunction test(req, res) {\n  res.send('sup!');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOlsidGVzdCIsInJlcSIsInJlcyIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsSTtBQUFULFNBQVNBLElBQVQsQ0FBY0MsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0I7QUFDckNBLE1BQUlDLElBQUosQ0FBUyxNQUFUO0FBQ0QiLCJmaWxlIjoidGVzdC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHAvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVzdChyZXEsIHJlcykge1xuICByZXMuc2VuZCgnc3VwIScpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "test.js"
      ],
      "names": [
        "test",
        "req",
        "res",
        "send"
      ],
      "mappings": ";;;;;kBAAwBA,I;AAAT,SAASA,IAAT,CAAcC,GAAd,EAAmBC,GAAnB,EAAwB;AACrCA,MAAIC,IAAJ,CAAS,MAAT;AACD",
      "file": "test.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "export default function test(req, res) {\n  res.send('sup!');\n}\n"
      ]
    },
    "mtime": 1497575871000
  },
  "{\"filename\":\"/home/app/routes/api.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "knexfile.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "knexconfig"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/api.js",
      "filenameRelative": "/home/app/routes/api.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "api.js",
      "sourceFileName": "api.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "api"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _knexfile = require('../knexfile.js');\n\nvar _knexfile2 = _interopRequireDefault(_knexfile);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = require('express').Router();\n\nvar knex = require('knex')(_knexfile2.default);\nvar gtfsdb = require('gtfsdb')(knex);\n\n/* Enable CORS */\n/*router.all('*', function(req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Headers', 'X-Requested-With');\n  next();\n});*/\n\nrouter.get('/agency', function (req, res, next) {\n  gtfsdb.getAllAgencies().then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\n//router.get('/agenciesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within default radius'\n//    });\n//  });\n//});\n\n//router.get('/agenciesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\nrouter.get('/agency/:agency', function (req, res, next) {\n  var agencyKey = req.params.agency;\n  gtfsdb.getAgencies(agencyKey).then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\nrouter.get('/agency/:agency/route', function (req, res, next) {\n  var agency_key = req.params.agency;\n  gtfsdb.getRoutes(agency_key).then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\nrouter.get('/agency/:agency/route/:routeId', function (req, res, next) {\n  var agencyKey = req.params.agency;\n  var routeId = req.params.routeId;\n  Promise.all([gtfsdb.getRoute(agencyKey, routeId), gtfsdb.getRouteTrips(agencyKey, routeId)]).then(function (values) {\n    res.send(values);\n  }\n  //gtfsdb.getRoute(req.params.agency, req.params.routeId)\n  //.then(function(agencies) {\n  //  gtfsdb.getRouteTrips(req.params.agency, req.params.routeId)\n  //\n  //  res.send(agencies);\n  //})\n  ).catch(next);\n});\n\nrouter.get('/agency/:agency/trip', function (req, res, next) {\n  gtfsdb.getTrips(req.params.agency).then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\n//router.get('/routesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getRoutesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\n//router.get('/routesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getRoutesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within default radius'\n//    });\n//  });\n//});\n\nrouter.get('/agency/:agency/stop', function (req, res, next) {\n  gtfsdb.getStops(req.params.agency).then(function (stops) {\n    res.send(stops);\n  }).catch(next);\n});\n\nrouter.get('/agency/:agency/stop/:stopId', function (req, res, next) {\n  gtfsdb.getStop(req.params.agency, req.params.stopId).then(function (stop) {\n    res.send(stop);\n  }).catch(next);\n});\n\n//router.get('/agency/:agency/stop/:stopId/timetables', function(req, res, next) {\n//});\n\nrouter.get('/agency/:agency/stop/:stopId/timetables', function (req, res, next) {\n  var agencyKey = req.params.agency;\n  var stopId = req.params.stopId;\n\n  Promise.all([gtfsdb.getStop(agencyKey, stopId), gtfsdb.getStopTimes(agencyKey, stopId)]).then(function (values) {\n    res.send(values);\n  }).catch(next);\n});\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJyZXF1aXJlIiwiUm91dGVyIiwia25leCIsImd0ZnNkYiIsImdldCIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRBbGxBZ2VuY2llcyIsInRoZW4iLCJhZ2VuY2llcyIsInNlbmQiLCJjYXRjaCIsImFnZW5jeUtleSIsInBhcmFtcyIsImFnZW5jeSIsImdldEFnZW5jaWVzIiwiYWdlbmN5X2tleSIsImdldFJvdXRlcyIsInJvdXRlSWQiLCJQcm9taXNlIiwiYWxsIiwiZ2V0Um91dGUiLCJnZXRSb3V0ZVRyaXBzIiwidmFsdWVzIiwiZ2V0VHJpcHMiLCJnZXRTdG9wcyIsInN0b3BzIiwiZ2V0U3RvcCIsInN0b3BJZCIsInN0b3AiLCJnZXRTdG9wVGltZXMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBOzs7Ozs7QUFGQSxJQUFNQSxTQUFTQyxtQkFBbUJDLE1BQW5CLEVBQWY7O0FBR0EsSUFBTUMsT0FBT0YsbUNBQWI7QUFDQSxJQUFNRyxTQUFTSCxrQkFBa0JFLElBQWxCLENBQWY7O0FBRUE7QUFDQTs7Ozs7O0FBTUFILE9BQU9LLEdBQVAsQ0FBVyxTQUFYLEVBQXNCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDN0NKLFNBQ0dLLGNBREgsR0FFR0MsSUFGSCxDQUVRLFVBQVNDLFFBQVQsRUFBbUI7QUFDdkJKLFFBQUlLLElBQUosQ0FBU0QsUUFBVDtBQUNELEdBSkgsRUFLR0UsS0FMSCxDQUtTTCxJQUxUO0FBTUQsQ0FQRDs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQVIsT0FBT0ssR0FBUCxDQUFXLGlCQUFYLEVBQThCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDckQs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QU1jLFNBQVN4QixJQUFJUyxNQUFKLENBQVdlLE1BQTFCOztBQUVBVCxVQUFRQyxHQUFSLENBQVksQ0FDVmxCLE9BQU95QixPQUFQLENBQWVmLFNBQWYsRUFBMEJnQixNQUExQixDQURVLEVBRVYxQixPQUFPNEIsWUFBUCxDQUFvQmxCLFNBQXBCLEVBQStCZ0IsTUFBL0IsQ0FGVSxDQUFaLEVBSUdwQixJQUpILENBSVEsa0JBQVU7QUFDZEgsUUFBSUssSUFBSixDQUFTYSxNQUFUO0FBQ0QsR0FOSCxFQU9HWixLQVBILENBT1NMLElBUFQ7QUFRRCxDQVpEOztrQkFjZVIsTSIsImZpbGUiOiJhcGkuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdXRlciA9IHJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKTtcblxuaW1wb3J0IGtuZXhjb25maWcgZnJvbSAna25leGZpbGUuanMnO1xuY29uc3Qga25leCA9IHJlcXVpcmUoJ2tuZXgnKShrbmV4Y29uZmlnKTtcbmNvbnN0IGd0ZnNkYiA9IHJlcXVpcmUoJ2d0ZnNkYicpKGtuZXgpO1xuXG4vKiBFbmFibGUgQ09SUyAqL1xuLypyb3V0ZXIuYWxsKCcqJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdYLVJlcXVlc3RlZC1XaXRoJyk7XG4gIG5leHQoKTtcbn0pOyovXG5cbnJvdXRlci5nZXQoJy9hZ2VuY3knLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICBndGZzZGJcbiAgICAuZ2V0QWxsQWdlbmNpZXMoKVxuICAgIC50aGVuKGZ1bmN0aW9uKGFnZW5jaWVzKSB7XG4gICAgICByZXMuc2VuZChhZ2VuY2llcyk7XG4gICAgfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxuLy9yb3V0ZXIuZ2V0KCcvYWdlbmNpZXNOZWFyYnkvOmxhdC86bG9uJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbi8vICBjb25zdCBsYXQgPSByZXEucGFyYW1zLmxhdDtcbi8vICBjb25zdCBsb24gPSByZXEucGFyYW1zLmxvbjtcbi8vXG4vLyAgZ3Rmcy5nZXRBZ2VuY2llc0J5RGlzdGFuY2UobGF0LCBsb24sIGZ1bmN0aW9uKGUsIGRhdGEpIHtcbi8vICAgIGlmKGUpIHJldHVybiBuZXh0KGUpO1xuLy8gICAgcmVzLnNlbmQoZGF0YSB8fCB7XG4vLyAgICAgIGVycm9yOiAnTm8gYWdlbmNpZXMgd2l0aGluIGRlZmF1bHQgcmFkaXVzJ1xuLy8gICAgfSk7XG4vLyAgfSk7XG4vL30pO1xuXG4vL3JvdXRlci5nZXQoJy9hZ2VuY2llc05lYXJieS86bGF0Lzpsb24vOnJhZGl1c0luTWlsZXMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuLy8gIGNvbnN0IGxhdCA9IHJlcS5wYXJhbXMubGF0O1xuLy8gIGNvbnN0IGxvbiA9IHJlcS5wYXJhbXMubG9uO1xuLy8gIGNvbnN0IHJhZGl1cyA9IHJlcS5wYXJhbXMucmFkaXVzSW5NaWxlcztcbi8vXG4vLyAgZ3Rmcy5nZXRBZ2VuY2llc0J5RGlzdGFuY2UobGF0LCBsb24sIHJhZGl1cywgZnVuY3Rpb24oZSwgZGF0YSkge1xuLy8gICAgaWYoZSkgcmV0dXJuIG5leHQoZSk7XG4vLyAgICByZXMuc2VuZChkYXRhIHx8IHtcbi8vICAgICAgZXJyb3I6ICdObyBhZ2VuY2llcyB3aXRoaW4gcmFkaXVzIG9mICcgKyByYWRpdXMgKyAnIG1pbGVzJ1xuLy8gICAgfSk7XG4vLyAgfSk7XG4vL30pO1xuXG5yb3V0ZXIuZ2V0KCcvYWdlbmN5LzphZ2VuY3knLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICBjb25zdCBhZ2VuY3lLZXkgPSByZXEucGFyYW1zLmFnZW5jeTtcbiAgZ3Rmc2RiXG4gICAgLmdldEFnZW5jaWVzKGFnZW5jeUtleSlcbiAgICAudGhlbihmdW5jdGlvbihhZ2VuY2llcykge1xuICAgICAgcmVzLnNlbmQoYWdlbmNpZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKG5leHQpO1xufSk7XG5cbnJvdXRlci5nZXQoJy9hZ2VuY3kvOmFnZW5jeS9yb3V0ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IGFnZW5jeV9rZXkgPSByZXEucGFyYW1zLmFnZW5jeTtcbiAgZ3Rmc2RiXG4gICAgLmdldFJvdXRlcyhhZ2VuY3lfa2V5KVxuICAgIC50aGVuKGZ1bmN0aW9uKGFnZW5jaWVzKSB7XG4gICAgICByZXMuc2VuZChhZ2VuY2llcyk7XG4gICAgfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxucm91dGVyLmdldCgnL2FnZW5jeS86YWdlbmN5L3JvdXRlLzpyb3V0ZUlkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgY29uc3QgYWdlbmN5S2V5ID0gcmVxLnBhcmFtcy5hZ2VuY3k7XG4gIGNvbnN0IHJvdXRlSWQgPSByZXEucGFyYW1zLnJvdXRlSWQ7XG4gIFByb21pc2UuYWxsKFtcbiAgICBndGZzZGIuZ2V0Um91dGUoYWdlbmN5S2V5LCByb3V0ZUlkKSxcbiAgICBndGZzZGIuZ2V0Um91dGVUcmlwcyhhZ2VuY3lLZXksIHJvdXRlSWQpLFxuICBdKVxuICAgIC50aGVuKHZhbHVlcyA9PiB7XG4gICAgICByZXMuc2VuZCh2YWx1ZXMpO1xuICAgIH0pXG4gICAgLy9ndGZzZGIuZ2V0Um91dGUocmVxLnBhcmFtcy5hZ2VuY3ksIHJlcS5wYXJhbXMucm91dGVJZClcbiAgICAvLy50aGVuKGZ1bmN0aW9uKGFnZW5jaWVzKSB7XG4gICAgLy8gIGd0ZnNkYi5nZXRSb3V0ZVRyaXBzKHJlcS5wYXJhbXMuYWdlbmN5LCByZXEucGFyYW1zLnJvdXRlSWQpXG4gICAgLy9cbiAgICAvLyAgcmVzLnNlbmQoYWdlbmNpZXMpO1xuICAgIC8vfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxucm91dGVyLmdldCgnL2FnZW5jeS86YWdlbmN5L3RyaXAnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICBndGZzZGJcbiAgICAuZ2V0VHJpcHMocmVxLnBhcmFtcy5hZ2VuY3kpXG4gICAgLnRoZW4oZnVuY3Rpb24oYWdlbmNpZXMpIHtcbiAgICAgIHJlcy5zZW5kKGFnZW5jaWVzKTtcbiAgICB9KVxuICAgIC5jYXRjaChuZXh0KTtcbn0pO1xuXG4vL3JvdXRlci5nZXQoJy9yb3V0ZXNOZWFyYnkvOmxhdC86bG9uLzpyYWRpdXNJbk1pbGVzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbi8vICBjb25zdCBsYXQgPSByZXEucGFyYW1zLmxhdDtcbi8vICBjb25zdCBsb24gPSByZXEucGFyYW1zLmxvbjtcbi8vICBjb25zdCByYWRpdXMgPSByZXEucGFyYW1zLnJhZGl1c0luTWlsZXM7XG4vL1xuLy8gIGd0ZnMuZ2V0Um91dGVzQnlEaXN0YW5jZShsYXQsIGxvbiwgcmFkaXVzLCBmdW5jdGlvbihlLCBkYXRhKSB7XG4vLyAgICBpZihlKSByZXR1cm4gbmV4dChlKTtcbi8vICAgIHJlcy5zZW5kKGRhdGEgfHwge1xuLy8gICAgICBlcnJvcjogJ05vIHJvdXRlcyB3aXRoaW4gcmFkaXVzIG9mICcgKyByYWRpdXMgKyAnIG1pbGVzJ1xuLy8gICAgfSk7XG4vLyAgfSk7XG4vL30pO1xuXG4vL3JvdXRlci5nZXQoJy9yb3V0ZXNOZWFyYnkvOmxhdC86bG9uJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbi8vICBjb25zdCBsYXQgPSByZXEucGFyYW1zLmxhdDtcbi8vICBjb25zdCBsb24gPSByZXEucGFyYW1zLmxvbjtcbi8vXG4vLyAgZ3Rmcy5nZXRSb3V0ZXNCeURpc3RhbmNlKGxhdCwgbG9uLCBmdW5jdGlvbihlLCBkYXRhKSB7XG4vLyAgICBpZihlKSByZXR1cm4gbmV4dChlKTtcbi8vICAgIHJlcy5zZW5kKGRhdGEgfHwge1xuLy8gICAgICBlcnJvcjogJ05vIHJvdXRlcyB3aXRoaW4gZGVmYXVsdCByYWRpdXMnXG4vLyAgICB9KTtcbi8vICB9KTtcbi8vfSk7XG5cbnJvdXRlci5nZXQoJy9hZ2VuY3kvOmFnZW5jeS9zdG9wJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgZ3Rmc2RiXG4gICAgLmdldFN0b3BzKHJlcS5wYXJhbXMuYWdlbmN5KVxuICAgIC50aGVuKGZ1bmN0aW9uKHN0b3BzKSB7XG4gICAgICByZXMuc2VuZChzdG9wcyk7XG4gICAgfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxucm91dGVyLmdldCgnL2FnZW5jeS86YWdlbmN5L3N0b3AvOnN0b3BJZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGd0ZnNkYlxuICAgIC5nZXRTdG9wKHJlcS5wYXJhbXMuYWdlbmN5LCByZXEucGFyYW1zLnN0b3BJZClcbiAgICAudGhlbihmdW5jdGlvbihzdG9wKSB7XG4gICAgICByZXMuc2VuZChzdG9wKTtcbiAgICB9KVxuICAgIC5jYXRjaChuZXh0KTtcbn0pO1xuXG4vL3JvdXRlci5nZXQoJy9hZ2VuY3kvOmFnZW5jeS9zdG9wLzpzdG9wSWQvdGltZXRhYmxlcycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4vL30pO1xuXG5yb3V0ZXIuZ2V0KCcvYWdlbmN5LzphZ2VuY3kvc3RvcC86c3RvcElkL3RpbWV0YWJsZXMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICBjb25zdCBhZ2VuY3lLZXkgPSByZXEucGFyYW1zLmFnZW5jeTtcbiAgY29uc3Qgc3RvcElkID0gcmVxLnBhcmFtcy5zdG9wSWQ7XG5cbiAgUHJvbWlzZS5hbGwoW1xuICAgIGd0ZnNkYi5nZXRTdG9wKGFnZW5jeUtleSwgc3RvcElkKSxcbiAgICBndGZzZGIuZ2V0U3RvcFRpbWVzKGFnZW5jeUtleSwgc3RvcElkKSxcbiAgXSlcbiAgICAudGhlbih2YWx1ZXMgPT4ge1xuICAgICAgcmVzLnNlbmQodmFsdWVzKTtcbiAgICB9KVxuICAgIC5jYXRjaChuZXh0KTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "router",
        "require",
        "Router",
        "knex",
        "gtfsdb",
        "get",
        "req",
        "res",
        "next",
        "getAllAgencies",
        "then",
        "agencies",
        "send",
        "catch",
        "agencyKey",
        "params",
        "agency",
        "getAgencies",
        "agency_key",
        "getRoutes",
        "routeId",
        "Promise",
        "all",
        "getRoute",
        "getRouteTrips",
        "values",
        "getTrips",
        "getStops",
        "stops",
        "getStop",
        "stopId",
        "stop",
        "getStopTimes"
      ],
      "mappings": "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",
      "file": "api.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "const router = require('express').Router();\n\nimport knexconfig from 'knexfile.js';\nconst knex = require('knex')(knexconfig);\nconst gtfsdb = require('gtfsdb')(knex);\n\n/* Enable CORS */\n/*router.all('*', function(req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Headers', 'X-Requested-With');\n  next();\n});*/\n\nrouter.get('/agency', function(req, res, next) {\n  gtfsdb\n    .getAllAgencies()\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\n//router.get('/agenciesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within default radius'\n//    });\n//  });\n//});\n\n//router.get('/agenciesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\nrouter.get('/agency/:agency', function(req, res, next) {\n  const agencyKey = req.params.agency;\n  gtfsdb\n    .getAgencies(agencyKey)\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\nrouter.get('/agency/:agency/route', function(req, res, next) {\n  const agency_key = req.params.agency;\n  gtfsdb\n    .getRoutes(agency_key)\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\nrouter.get('/agency/:agency/route/:routeId', function(req, res, next) {\n  const agencyKey = req.params.agency;\n  const routeId = req.params.routeId;\n  Promise.all([\n    gtfsdb.getRoute(agencyKey, routeId),\n    gtfsdb.getRouteTrips(agencyKey, routeId),\n  ])\n    .then(values => {\n      res.send(values);\n    })\n    //gtfsdb.getRoute(req.params.agency, req.params.routeId)\n    //.then(function(agencies) {\n    //  gtfsdb.getRouteTrips(req.params.agency, req.params.routeId)\n    //\n    //  res.send(agencies);\n    //})\n    .catch(next);\n});\n\nrouter.get('/agency/:agency/trip', function(req, res, next) {\n  gtfsdb\n    .getTrips(req.params.agency)\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\n//router.get('/routesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getRoutesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\n//router.get('/routesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getRoutesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within default radius'\n//    });\n//  });\n//});\n\nrouter.get('/agency/:agency/stop', function(req, res, next) {\n  gtfsdb\n    .getStops(req.params.agency)\n    .then(function(stops) {\n      res.send(stops);\n    })\n    .catch(next);\n});\n\nrouter.get('/agency/:agency/stop/:stopId', function(req, res, next) {\n  gtfsdb\n    .getStop(req.params.agency, req.params.stopId)\n    .then(function(stop) {\n      res.send(stop);\n    })\n    .catch(next);\n});\n\n//router.get('/agency/:agency/stop/:stopId/timetables', function(req, res, next) {\n//});\n\nrouter.get('/agency/:agency/stop/:stopId/timetables', function(req, res, next) {\n  const agencyKey = req.params.agency;\n  const stopId = req.params.stopId;\n\n  Promise.all([\n    gtfsdb.getStop(agencyKey, stopId),\n    gtfsdb.getStopTimes(agencyKey, stopId),\n  ])\n    .then(values => {\n      res.send(values);\n    })\n    .catch(next);\n});\n\nexport default router;\n"
      ]
    },
    "mtime": 1497678092000
  },
  "{\"filename\":\"/home/app/knexfile.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/knexfile.js",
      "filenameRelative": "/home/app/knexfile.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "knexfile.js",
      "sourceFileName": "knexfile.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "knexfile"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: 'postgres',\n    database: 'postgres',\n    user: 'postgres',\n    password: '',\n    charset: 'utf8'\n  },\n\n  migrations: {\n    directory: './node_modules/gtfsdb/migrations'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwiaG9zdCIsImRhdGFiYXNlIiwidXNlciIsInBhc3N3b3JkIiwiY2hhcnNldCIsIm1pZ3JhdGlvbnMiLCJkaXJlY3RvcnkiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsVUFBUSxZQURPO0FBRWZDLGNBQVk7QUFDVkMsVUFBTSxVQURJO0FBRVZDLGNBQVUsVUFGQTtBQUdWQyxVQUFNLFVBSEk7QUFJVkMsY0FBVSxFQUpBO0FBS1ZDLGFBQVM7QUFMQyxHQUZHOztBQVVmQyxjQUFZO0FBQ1ZDLGVBQVc7QUFERDtBQVZHLENBQWpCIiwiZmlsZSI6ImtuZXhmaWxlLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcCIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBjbGllbnQ6ICdwb3N0Z3Jlc3FsJyxcbiAgY29ubmVjdGlvbjoge1xuICAgIGhvc3Q6ICdwb3N0Z3JlcycsXG4gICAgZGF0YWJhc2U6ICdwb3N0Z3JlcycsXG4gICAgdXNlcjogJ3Bvc3RncmVzJyxcbiAgICBwYXNzd29yZDogJycsXG4gICAgY2hhcnNldDogJ3V0ZjgnLFxuICB9LFxuXG4gIG1pZ3JhdGlvbnM6IHtcbiAgICBkaXJlY3Rvcnk6ICcuL25vZGVfbW9kdWxlcy9ndGZzZGIvbWlncmF0aW9ucycsXG4gIH0sXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "knexfile.js"
      ],
      "names": [
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "password",
        "charset",
        "migrations",
        "directory"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,UAAQ,YADO;AAEfC,cAAY;AACVC,UAAM,UADI;AAEVC,cAAU,UAFA;AAGVC,UAAM,UAHI;AAIVC,cAAU,EAJA;AAKVC,aAAS;AALC,GAFG;;AAUfC,cAAY;AACVC,eAAW;AADD;AAVG,CAAjB",
      "file": "knexfile.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "module.exports = {\n  client: 'postgresql',\n  connection: {\n    host: 'postgres',\n    database: 'postgres',\n    user: 'postgres',\n    password: '',\n    charset: 'utf8',\n  },\n\n  migrations: {\n    directory: './node_modules/gtfsdb/migrations',\n  },\n};\n"
      ]
    },
    "mtime": 1497678883000
  },
  "{\"filename\":\"/home/app/routes/protobuf.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lib/gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/protobuf.js",
      "filenameRelative": "/home/app/routes/protobuf.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "protobuf.js",
      "sourceFileName": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "protobuf"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('../lib/gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    var buffer;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return (0, _gtfs2.default)('http://transit.tsomobile.com/miami/RealTimeFeed-miami');\n\n          case 3:\n            buffer = _context.sent;\n\n            res.send(buffer);\n            _context.next = 11;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](0);\n\n            console.log(_context.t0);\n            res.send('Epic Fail');\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 7]]);\n  }));\n\n  function protobuf(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return protobuf;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3RvYnVmLmpzIl0sIm5hbWVzIjpbInJlcSIsInJlcyIsImJ1ZmZlciIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwicHJvdG9idWYiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7dURBRWUsaUJBQXdCQSxHQUF4QixFQUE2QkMsR0FBN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUVVLG9CQUNuQix1REFEbUIsQ0FGVjs7QUFBQTtBQUVMQyxrQkFGSzs7QUFLWEQsZ0JBQUlFLElBQUosQ0FBU0QsTUFBVDtBQUxXO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQU9YRSxvQkFBUUMsR0FBUjtBQUNBSixnQkFBSUUsSUFBSixDQUFTLFdBQVQ7O0FBUlc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRzs7V0FBZUcsUTs7OztTQUFBQSxRIiwiZmlsZSI6InByb3RvYnVmLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcC9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ3RmcyBmcm9tICdsaWIvZ3Rmcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHByb3RvYnVmKHJlcSwgcmVzKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgZ3RmcyhcbiAgICAgICdodHRwOi8vdHJhbnNpdC50c29tb2JpbGUuY29tL21pYW1pL1JlYWxUaW1lRmVlZC1taWFtaSdcbiAgICApO1xuICAgIHJlcy5zZW5kKGJ1ZmZlcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJlcy5zZW5kKCdFcGljIEZhaWwnKTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "protobuf.js"
      ],
      "names": [
        "req",
        "res",
        "buffer",
        "send",
        "console",
        "log",
        "protobuf"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;;uDAEe,iBAAwBA,GAAxB,EAA6BC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEU,oBACnB,uDADmB,CAFV;;AAAA;AAELC,kBAFK;;AAKXD,gBAAIE,IAAJ,CAASD,MAAT;AALW;AAAA;;AAAA;AAAA;AAAA;;AAOXE,oBAAQC,GAAR;AACAJ,gBAAIE,IAAJ,CAAS,WAAT;;AARW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeG,Q;;;;SAAAA,Q",
      "file": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'lib/gtfs';\n\nexport default async function protobuf(req, res) {\n  try {\n    const buffer = await gtfs(\n      'http://transit.tsomobile.com/miami/RealTimeFeed-miami'\n    );\n    res.send(buffer);\n  } catch (error) {\n    console.log(error);\n    res.send('Epic Fail');\n  }\n}\n"
      ]
    },
    "mtime": 1497768532000
  },
  "{\"filename\":\"/home/app/lib/gtfs/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/lib/gtfs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "protobufjs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ProtoBuf"
              }
            ]
          },
          {
            "source": "request",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "gtfs",
            "url"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "gtfs",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "url",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/app/lib/gtfs/index.js",
      "filenameRelative": "/home/app/lib/gtfs/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/lib/gtfs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = gtfs;\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _protobufjs = require('protobufjs');\n\nvar _protobufjs2 = _interopRequireDefault(_protobufjs);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction decode(feedBuffer) {\n  var builder = _protobufjs2.default.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  var transit = builder.build('transit_realtime');\n  var result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise(function (resolve, reject) {\n    (0, _request2.default)(options, function (err, res, body) {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nfunction gtfs(url) {\n  var options = {\n    url: url,\n    method: 'get',\n    encoding: null\n  };\n\n  return loadGTFSRealtimeFeed(options).then(function (feedBuffer) {\n    var result = decode(feedBuffer);\n    return result;\n  }).catch(function (err) {\n    return err;\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImd0ZnMiLCJkZWNvZGUiLCJmZWVkQnVmZmVyIiwiYnVpbGRlciIsImxvYWRQcm90b0ZpbGUiLCJ0cmFuc2l0IiwiYnVpbGQiLCJyZXN1bHQiLCJGZWVkTWVzc2FnZSIsImxvYWRHVEZTUmVhbHRpbWVGZWVkIiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwicmVzIiwiYm9keSIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1c0NvZGUiLCJ1cmwiLCJtZXRob2QiLCJlbmNvZGluZyIsInRoZW4iLCJjYXRjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBMkJ3QkEsSTs7QUEzQnhCOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0MsTUFBVCxDQUFnQkMsVUFBaEIsRUFBNEI7QUFDMUIsTUFBTUMsVUFBVSxxQkFBU0MsYUFBVCxDQUF1Qiw4QkFBdkIsQ0FBaEI7QUFDQSxNQUFNQyxVQUFVRixRQUFRRyxLQUFSLENBQWMsa0JBQWQsQ0FBaEI7QUFDQSxNQUFNQyxTQUFTRixRQUFRRyxXQUFSLENBQW9CUCxNQUFwQixDQUEyQkMsVUFBM0IsQ0FBZjtBQUNBLFNBQU9LLE1BQVA7QUFDRDs7QUFFRCxTQUFTRSxvQkFBVCxDQUE4QkMsT0FBOUIsRUFBdUM7QUFDckMsU0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQ3RDLDJCQUFRSCxPQUFSLEVBQWlCLFVBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ25DLFVBQUlGLEdBQUosRUFBUztBQUNQRyxnQkFBUUMsS0FBUixDQUFjSixHQUFkLEVBQW1CRSxJQUFuQjtBQUNBSCxlQUFPQyxHQUFQO0FBQ0Q7QUFDRCxVQUFJQyxJQUFJSSxVQUFKLEtBQW1CLEdBQXZCLEVBQTRCO0FBQzFCRixnQkFBUUMsS0FBUixDQUFjRixJQUFkO0FBQ0FILGVBQU9HLElBQVA7QUFDRDtBQUNESixjQUFRSSxJQUFSO0FBQ0QsS0FWRDtBQVdELEdBWk0sQ0FBUDtBQWFEOztBQUVjLFNBQVNoQixJQUFULENBQWNvQixHQUFkLEVBQW1CO0FBQ2hDLE1BQU1WLFVBQVU7QUFDZFUsU0FBS0EsR0FEUztBQUVkQyxZQUFRLEtBRk07QUFHZEMsY0FBVTtBQUhJLEdBQWhCOztBQU1BLFNBQU9iLHFCQUFxQkMsT0FBckIsRUFDSmEsSUFESSxDQUNDLHNCQUFjO0FBQ2xCLFFBQU1oQixTQUFTTixPQUFPQyxVQUFQLENBQWY7QUFDQSxXQUFPSyxNQUFQO0FBQ0QsR0FKSSxFQUtKaUIsS0FMSSxDQUtFLGVBQU87QUFDWixXQUFPVixHQUFQO0FBQ0QsR0FQSSxDQUFQO0FBUUQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL2xpYi9ndGZzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgUHJvdG9CdWYgZnJvbSAncHJvdG9idWZqcyc7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICdyZXF1ZXN0JztcblxuZnVuY3Rpb24gZGVjb2RlKGZlZWRCdWZmZXIpIHtcbiAgY29uc3QgYnVpbGRlciA9IFByb3RvQnVmLmxvYWRQcm90b0ZpbGUoJ2xpYi9ndGZzL2d0ZnMtcmVhbHRpbWUucHJvdG8nKTtcbiAgY29uc3QgdHJhbnNpdCA9IGJ1aWxkZXIuYnVpbGQoJ3RyYW5zaXRfcmVhbHRpbWUnKTtcbiAgY29uc3QgcmVzdWx0ID0gdHJhbnNpdC5GZWVkTWVzc2FnZS5kZWNvZGUoZmVlZEJ1ZmZlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGxvYWRHVEZTUmVhbHRpbWVGZWVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0KG9wdGlvbnMsIChlcnIsIHJlcywgYm9keSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVyciwgYm9keSk7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihib2R5KTtcbiAgICAgICAgcmVqZWN0KGJvZHkpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShib2R5KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGd0ZnModXJsKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdXJsOiB1cmwsXG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICBlbmNvZGluZzogbnVsbCxcbiAgfTtcblxuICByZXR1cm4gbG9hZEdURlNSZWFsdGltZUZlZWQob3B0aW9ucylcbiAgICAudGhlbihmZWVkQnVmZmVyID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGRlY29kZShmZWVkQnVmZmVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "gtfs",
        "decode",
        "feedBuffer",
        "builder",
        "loadProtoFile",
        "transit",
        "build",
        "result",
        "FeedMessage",
        "loadGTFSRealtimeFeed",
        "options",
        "Promise",
        "resolve",
        "reject",
        "err",
        "res",
        "body",
        "console",
        "error",
        "statusCode",
        "url",
        "method",
        "encoding",
        "then",
        "catch"
      ],
      "mappings": ";;;;;kBA2BwBA,I;;AA3BxB;;;;AACA;;;;AACA;;;;;;AAEA,SAASC,MAAT,CAAgBC,UAAhB,EAA4B;AAC1B,MAAMC,UAAU,qBAASC,aAAT,CAAuB,8BAAvB,CAAhB;AACA,MAAMC,UAAUF,QAAQG,KAAR,CAAc,kBAAd,CAAhB;AACA,MAAMC,SAASF,QAAQG,WAAR,CAAoBP,MAApB,CAA2BC,UAA3B,CAAf;AACA,SAAOK,MAAP;AACD;;AAED,SAASE,oBAAT,CAA8BC,OAA9B,EAAuC;AACrC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,2BAAQH,OAAR,EAAiB,UAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnC,UAAIF,GAAJ,EAAS;AACPG,gBAAQC,KAAR,CAAcJ,GAAd,EAAmBE,IAAnB;AACAH,eAAOC,GAAP;AACD;AACD,UAAIC,IAAII,UAAJ,KAAmB,GAAvB,EAA4B;AAC1BF,gBAAQC,KAAR,CAAcF,IAAd;AACAH,eAAOG,IAAP;AACD;AACDJ,cAAQI,IAAR;AACD,KAVD;AAWD,GAZM,CAAP;AAaD;;AAEc,SAAShB,IAAT,CAAcoB,GAAd,EAAmB;AAChC,MAAMV,UAAU;AACdU,SAAKA,GADS;AAEdC,YAAQ,KAFM;AAGdC,cAAU;AAHI,GAAhB;;AAMA,SAAOb,qBAAqBC,OAArB,EACJa,IADI,CACC,sBAAc;AAClB,QAAMhB,SAASN,OAAOC,UAAP,CAAf;AACA,WAAOK,MAAP;AACD,GAJI,EAKJiB,KALI,CAKE,eAAO;AACZ,WAAOV,GAAP;AACD,GAPI,CAAP;AAQD",
      "file": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "sourcesContent": [
        "import path from 'path';\nimport ProtoBuf from 'protobufjs';\nimport request from 'request';\n\nfunction decode(feedBuffer) {\n  const builder = ProtoBuf.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  const transit = builder.build('transit_realtime');\n  const result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise((resolve, reject) => {\n    request(options, (err, res, body) => {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nexport default function gtfs(url) {\n  const options = {\n    url: url,\n    method: 'get',\n    encoding: null,\n  };\n\n  return loadGTFSRealtimeFeed(options)\n    .then(feedBuffer => {\n      const result = decode(feedBuffer);\n      return result;\n    })\n    .catch(err => {\n      return err;\n    });\n}\n"
      ]
    },
    "mtime": 1497770160000
  }
}