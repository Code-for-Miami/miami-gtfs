{
  "{\"filename\":\"/home/app/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/index.js",
      "filenameRelative": "/home/app/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = (0, _express2.default)();\n\napp.get('/', function (req, res) {\n  res.send('Hello World!');\n});\n\napp.listen(3000, function () {\n  console.log('Example app listening on port 3000!');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7QUFDQSxJQUFNQSxNQUFNLHdCQUFaOztBQUVBQSxJQUFJQyxHQUFKLENBQVEsR0FBUixFQUFhLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUM5QkEsTUFBSUMsSUFBSixDQUFTLGNBQVQ7QUFDRCxDQUZEOztBQUlBSixJQUFJSyxNQUFKLENBQVcsSUFBWCxFQUFpQixZQUFXO0FBQzFCQyxVQUFRQyxHQUFSLENBQVkscUNBQVo7QUFDRCxDQUZEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG5hcHAuZ2V0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgcmVzLnNlbmQoJ0hlbGxvIFdvcmxkIScpO1xufSk7XG5cbmFwcC5saXN0ZW4oMzAwMCwgZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCdFeGFtcGxlIGFwcCBsaXN0ZW5pbmcgb24gcG9ydCAzMDAwIScpO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "get",
        "req",
        "res",
        "send",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;;;;;AACA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC9BA,MAAIC,IAAJ,CAAS,cAAT;AACD,CAFD;;AAIAJ,IAAIK,MAAJ,CAAW,IAAX,EAAiB,YAAW;AAC1BC,UAAQC,GAAR,CAAY,qCAAZ;AACD,CAFD",
      "file": "index.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "import express from 'express';\nconst app = express();\n\napp.get('/', function(req, res) {\n  res.send('Hello World!');\n});\n\napp.listen(3000, function() {\n  console.log('Example app listening on port 3000!');\n});\n"
      ]
    },
    "mtime": 1497575089000
  },
  "{\"filename\":\"/home/app/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "routes/routes",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "routes"
              }
            ]
          },
          {
            "source": "routes/trips",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "trips"
              }
            ]
          },
          {
            "source": "routes/protobuf",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "protobuf"
              }
            ]
          },
          {
            "source": "routes/importGTFS",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "importGTFS"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/index.js",
      "filenameRelative": "/home/app/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _routes = require('./routes/routes');\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _trips = require('./routes/trips');\n\nvar _trips2 = _interopRequireDefault(_trips);\n\nvar _protobuf = require('./routes/protobuf');\n\nvar _protobuf2 = _interopRequireDefault(_protobuf);\n\nvar _importGTFS = require('./routes/importGTFS');\n\nvar _importGTFS2 = _interopRequireDefault(_importGTFS);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = require('./config.json');\n\n_mongoose2.default.Promise = global.Promise;\n_mongoose2.default.connect(config.mongoUrl);\n\nvar app = (0, _express2.default)();\nvar json = require('body-parser').json();\n\napp.use(json);\n\napp.get('/import', _importGTFS2.default);\napp.get('/protobuf', _protobuf2.default);\napp.post('/api/v1/routes', _routes2.default);\napp.post('/api/v1/trips', _trips2.default);\n\napp.listen(3000, function () {\n  console.log('Listening on port 3600!');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsInJlcXVpcmUiLCJQcm9taXNlIiwiZ2xvYmFsIiwiY29ubmVjdCIsIm1vbmdvVXJsIiwiYXBwIiwianNvbiIsInVzZSIsImdldCIsInBvc3QiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7QUFNQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFUQSxJQUFNQSxTQUFTQyxRQUFRLGVBQVIsQ0FBZjs7QUFFQSxtQkFBU0MsT0FBVCxHQUFtQkMsT0FBT0QsT0FBMUI7QUFDQSxtQkFBU0UsT0FBVCxDQUFpQkosT0FBT0ssUUFBeEI7O0FBT0EsSUFBTUMsTUFBTSx3QkFBWjtBQUNBLElBQU1DLE9BQU9OLHVCQUF1Qk0sSUFBdkIsRUFBYjs7QUFFQUQsSUFBSUUsR0FBSixDQUFRRCxJQUFSOztBQUVBRCxJQUFJRyxHQUFKLENBQVEsU0FBUjtBQUNBSCxJQUFJRyxHQUFKLENBQVEsV0FBUjtBQUNBSCxJQUFJSSxJQUFKLENBQVMsZ0JBQVQ7QUFDQUosSUFBSUksSUFBSixDQUFTLGVBQVQ7O0FBRUFKLElBQUlLLE1BQUosQ0FBVyxJQUFYLEVBQWlCLFlBQU07QUFDckJDLFVBQVFDLEdBQVIsQ0FBWSx5QkFBWjtBQUNELENBRkQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGd0ZnMgZnJvbSAnZ3Rmcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanNvbicpO1xuXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5tb25nb1VybCk7XG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHJvdXRlcyBmcm9tICdyb3V0ZXMvcm91dGVzJztcbmltcG9ydCB0cmlwcyBmcm9tICdyb3V0ZXMvdHJpcHMnO1xuaW1wb3J0IHByb3RvYnVmIGZyb20gJ3JvdXRlcy9wcm90b2J1Zic7XG5pbXBvcnQgaW1wb3J0R1RGUyBmcm9tICdyb3V0ZXMvaW1wb3J0R1RGUyc7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBqc29uID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKS5qc29uKCk7XG5cbmFwcC51c2UoanNvbik7XG5cbmFwcC5nZXQoJy9pbXBvcnQnLCBpbXBvcnRHVEZTKTtcbmFwcC5nZXQoJy9wcm90b2J1ZicsIHByb3RvYnVmKTtcbmFwcC5wb3N0KCcvYXBpL3YxL3JvdXRlcycsIHJvdXRlcyk7XG5hcHAucG9zdCgnL2FwaS92MS90cmlwcycsIHRyaXBzKTtcblxuYXBwLmxpc3RlbigzMDAwLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgb24gcG9ydCAzNjAwIScpO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "config",
        "require",
        "Promise",
        "global",
        "connect",
        "mongoUrl",
        "app",
        "json",
        "use",
        "get",
        "post",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;AAMA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AATA,IAAMA,SAASC,QAAQ,eAAR,CAAf;;AAEA,mBAASC,OAAT,GAAmBC,OAAOD,OAA1B;AACA,mBAASE,OAAT,CAAiBJ,OAAOK,QAAxB;;AAOA,IAAMC,MAAM,wBAAZ;AACA,IAAMC,OAAON,uBAAuBM,IAAvB,EAAb;;AAEAD,IAAIE,GAAJ,CAAQD,IAAR;;AAEAD,IAAIG,GAAJ,CAAQ,SAAR;AACAH,IAAIG,GAAJ,CAAQ,WAAR;AACAH,IAAII,IAAJ,CAAS,gBAAT;AACAJ,IAAII,IAAJ,CAAS,eAAT;;AAEAJ,IAAIK,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACrBC,UAAQC,GAAR,CAAY,yBAAZ;AACD,CAFD",
      "file": "index.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nimport mongoose from 'mongoose';\nconst config = require('./config.json');\n\nmongoose.Promise = global.Promise;\nmongoose.connect(config.mongoUrl);\n\nimport express from 'express';\nimport routes from 'routes/routes';\nimport trips from 'routes/trips';\nimport protobuf from 'routes/protobuf';\nimport importGTFS from 'routes/importGTFS';\nconst app = express();\nconst json = require('body-parser').json();\n\napp.use(json);\n\napp.get('/import', importGTFS);\napp.get('/protobuf', protobuf);\napp.post('/api/v1/routes', routes);\napp.post('/api/v1/trips', trips);\n\napp.listen(3000, () => {\n  console.log('Listening on port 3600!');\n});\n"
      ]
    },
    "mtime": 1498109339000
  },
  "{\"filename\":\"/home/app/routes/test.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "test",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "test",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/test.js",
      "filenameRelative": "/home/app/routes/test.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "test.js",
      "sourceFileName": "test.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "test"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = test;\nfunction test(req, res) {\n  res.send('sup!');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOlsidGVzdCIsInJlcSIsInJlcyIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QkEsSTtBQUFULFNBQVNBLElBQVQsQ0FBY0MsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0I7QUFDckNBLE1BQUlDLElBQUosQ0FBUyxNQUFUO0FBQ0QiLCJmaWxlIjoidGVzdC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHAvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVzdChyZXEsIHJlcykge1xuICByZXMuc2VuZCgnc3VwIScpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "test.js"
      ],
      "names": [
        "test",
        "req",
        "res",
        "send"
      ],
      "mappings": ";;;;;kBAAwBA,I;AAAT,SAASA,IAAT,CAAcC,GAAd,EAAmBC,GAAnB,EAAwB;AACrCA,MAAIC,IAAJ,CAAS,MAAT;AACD",
      "file": "test.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "export default function test(req, res) {\n  res.send('sup!');\n}\n"
      ]
    },
    "mtime": 1497575871000
  },
  "{\"filename\":\"/home/app/routes/api.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "knexfile.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "knexconfig"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/api.js",
      "filenameRelative": "/home/app/routes/api.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "api.js",
      "sourceFileName": "api.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "api"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _knexfile = require('../knexfile.js');\n\nvar _knexfile2 = _interopRequireDefault(_knexfile);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = require('express').Router();\n\nvar knex = require('knex')(_knexfile2.default);\nvar gtfsdb = require('gtfsdb')(knex);\n\n/* Enable CORS */\n/*router.all('*', function(req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Headers', 'X-Requested-With');\n  next();\n});*/\n\nrouter.get('/api/v1/agency', function (req, res, next) {\n  gtfsdb.getAllAgencies().then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\n//router.get('/agenciesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within default radius'\n//    });\n//  });\n//});\n\n//router.get('/agenciesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\nrouter.get('/api/v1/agency/:agency', function (req, res, next) {\n  var agencyKey = req.params.agency;\n  gtfsdb.getAgencies(agencyKey).then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/route', function (req, res, next) {\n  var agency_key = req.params.agency;\n  gtfsdb.getRoutes(agency_key).then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/route/:routeId', function (req, res, next) {\n  var agencyKey = req.params.agency;\n  var routeId = req.params.routeId;\n  Promise.all([gtfsdb.getRoute(agencyKey, routeId), gtfsdb.getRouteTrips(agencyKey, routeId)]).then(function (values) {\n    res.send(values);\n  }\n  //gtfsdb.getRoute(req.params.agency, req.params.routeId)\n  //.then(function(agencies) {\n  //  gtfsdb.getRouteTrips(req.params.agency, req.params.routeId)\n  //\n  //  res.send(agencies);\n  //})\n  ).catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/trip', function (req, res, next) {\n  gtfsdb.getTrips(req.params.agency).then(function (agencies) {\n    res.send(agencies);\n  }).catch(next);\n});\n\n//router.get('/routesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getRoutesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\n//router.get('/routesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getRoutesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within default radius'\n//    });\n//  });\n//});\n\nrouter.get('/api/v1/agency/:agency/stop', function (req, res, next) {\n  gtfsdb.getStops(req.params.agency).then(function (stops) {\n    res.send(stops);\n  }).catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/stop/:stopId', function (req, res, next) {\n  gtfsdb.getStop(req.params.agency, req.params.stopId).then(function (stop) {\n    res.send(stop);\n  }).catch(next);\n});\n\n//router.get('/agency/:agency/stop/:stopId/timetables', function(req, res, next) {\n//});\n\nrouter.get('/api/v1/agency/:agency/stop/:stopId/timetables', function (req, res, next) {\n  var agencyKey = req.params.agency;\n  var stopId = req.params.stopId;\n\n  Promise.all([gtfsdb.getStop(agencyKey, stopId), gtfsdb.getStopTimes(agencyKey, stopId)]).then(function (values) {\n    res.send(values);\n  }).catch(next);\n});\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJyZXF1aXJlIiwiUm91dGVyIiwia25leCIsImd0ZnNkYiIsImdldCIsInJlcSIsInJlcyIsIm5leHQiLCJnZXRBbGxBZ2VuY2llcyIsInRoZW4iLCJhZ2VuY2llcyIsInNlbmQiLCJjYXRjaCIsImFnZW5jeUtleSIsInBhcmFtcyIsImFnZW5jeSIsImdldEFnZW5jaWVzIiwiYWdlbmN5X2tleSIsImdldFJvdXRlcyIsInJvdXRlSWQiLCJQcm9taXNlIiwiYWxsIiwiZ2V0Um91dGUiLCJnZXRSb3V0ZVRyaXBzIiwidmFsdWVzIiwiZ2V0VHJpcHMiLCJnZXRTdG9wcyIsInN0b3BzIiwiZ2V0U3RvcCIsInN0b3BJZCIsInN0b3AiLCJnZXRTdG9wVGltZXMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBOzs7Ozs7QUFGQSxJQUFNQSxTQUFTQyxtQkFBbUJDLE1BQW5CLEVBQWY7O0FBR0EsSUFBTUMsT0FBT0YsbUNBQWI7QUFDQSxJQUFNRyxTQUFTSCxrQkFBa0JFLElBQWxCLENBQWY7O0FBRUE7QUFDQTs7Ozs7O0FBTUFILE9BQU9LLEdBQVAsQ0FBVyxnQkFBWCxFQUE2QixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ3BESixTQUNHSyxjQURILEdBRUdDLElBRkgsQ0FFUSxVQUFTQyxRQUFULEVBQW1CO0FBQ3ZCSixRQUFJSyxJQUFKLENBQVNELFFBQVQ7QUFDRCxHQUpILEVBS0dFLEtBTEgsQ0FLU0wsSUFMVDtBQU1ELENBUEQ7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUFSLE9BQU9LLEdBQVAsQ0FBVyx3QkFBWCxFQUFxQyxVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQzVELE1BQU1NLFlBQVlSLElBQUlTLE1BQUosQ0FBV0MsTUFBN0I7QUFDQVosU0FDR2EsV0FESCxDQUNlSCxTQURmLEVBRUdKLElBRkgsQ0FFUSxVQUFTQyxRQUFULEVBQW1CO0FBQ3ZCSixRQUFJSyxJQUFKLENBQVNELFFBQVQ7QUFDRCxHQUpILEVBS0dFLEtBTEgsQ0FLU0wsSUFMVDtBQU1ELENBUkQ7O0FBVUFSLE9BQU9LLEdBQVAsQ0FBVyw4QkFBWCxFQUEyQyxVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ2xFLE1BQU1VLGFBQWFaLElBQUlTLE1BQUosQ0FBV0MsTUFBOUI7QUFDQVosU0FDR2UsU0FESCxDQUNhRCxVQURiLEVBRUdSLElBRkgsQ0FFUSxVQUFTQyxRQUFULEVBQW1CO0FBQ3ZCSixRQUFJSyxJQUFKLENBQVNELFFBQVQ7QUFDRCxHQUpILEVBS0dFLEtBTEgsQ0FLU0wsSUFMVDtBQU1ELENBUkQ7O0FBVUFSLE9BQU9LLEdBQVAsQ0FBVyx1Q0FBWCxFQUFvRCxVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQzNFLE1BQU1NLFlBQVlSLElBQUlTLE1BQUosQ0FBV0MsTUFBN0I7QUFDQSxNQUFNSSxVQUFVZCxJQUFJUyxNQUFKLENBQVdLLE9BQTNCO0FBQ0FDLFVBQVFDLEdBQVIsQ0FBWSxDQUNWbEIsT0FBT21CLFFBQVAsQ0FBZ0JULFNBQWhCLEVBQTJCTSxPQUEzQixDQURVLEVBRVZoQixPQUFPb0IsYUFBUCxDQUFxQlYsU0FBckIsRUFBZ0NNLE9BQWhDLENBRlUsQ0FBWixFQUlHVixJQUpILENBSVEsa0JBQVU7QUFDZEgsUUFBSUssSUFBSixDQUFTYSxNQUFUO0FBQ0Q7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaRixJQWFHWixLQWJILENBYVNMLElBYlQ7QUFjRCxDQWpCRDs7QUFtQkFSLE9BQU9LLEdBQVAsQ0FBVyw2QkFBWCxFQUEwQyxVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ2pFSixTQUNHc0IsUUFESCxDQUNZcEIsSUFBSVMsTUFBSixDQUFXQyxNQUR2QixFQUVHTixJQUZILENBRVEsVUFBU0MsUUFBVCxFQUFtQjtBQUN2QkosUUFBSUssSUFBSixDQUFTRCxRQUFUO0FBQ0QsR0FKSCxFQUtHRSxLQUxILENBS1NMLElBTFQ7QUFNRCxDQVBEOztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBUixPQUFPSyxHQUFQLENBQVcsNkJBQVgsRUFBMEMsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUNqRUosU0FDR3VCLFFBREgsQ0FDWXJCLElBQUlTLE1BQUosQ0FBV0MsTUFEdkIsRUFFR04sSUFGSCxDQUVRLFVBQVNrQixLQUFULEVBQWdCO0FBQ3BCckIsUUFBSUssSUFBSixDQUFTZ0IsS0FBVDtBQUNELEdBSkgsRUFLR2YsS0FMSCxDQUtTTCxJQUxUO0FBTUQsQ0FQRDs7QUFTQVIsT0FBT0ssR0FBUCxDQUFXLHFDQUFYLEVBQWtELFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDekVKLFNBQ0d5QixPQURILENBQ1d2QixJQUFJUyxNQUFKLENBQVdDLE1BRHRCLEVBQzhCVixJQUFJUyxNQUFKLENBQVdlLE1BRHpDLEVBRUdwQixJQUZILENBRVEsVUFBU3FCLElBQVQsRUFBZTtBQUNuQnhCLFFBQUlLLElBQUosQ0FBU21CLElBQVQ7QUFDRCxHQUpILEVBS0dsQixLQUxILENBS1NMLElBTFQ7QUFNRCxDQVBEOztBQVNBO0FBQ0E7O0FBRUFSLE9BQU9LLEdBQVAsQ0FBVyxnREFBWCxFQUE2RCxVQUMzREMsR0FEMkQsRUFFM0RDLEdBRjJELEVBRzNEQyxJQUgyRCxFQUkzRDtBQUNBLE1BQU1NLFlBQVlSLElBQUlTLE1BQUosQ0FBV0MsTUFBN0I7QUFDQSxNQUFNYyxTQUFTeEIsSUFBSVMsTUFBSixDQUFXZSxNQUExQjs7QUFFQVQsVUFBUUMsR0FBUixDQUFZLENBQ1ZsQixPQUFPeUIsT0FBUCxDQUFlZixTQUFmLEVBQTBCZ0IsTUFBMUIsQ0FEVSxFQUVWMUIsT0FBTzRCLFlBQVAsQ0FBb0JsQixTQUFwQixFQUErQmdCLE1BQS9CLENBRlUsQ0FBWixFQUlHcEIsSUFKSCxDQUlRLGtCQUFVO0FBQ2RILFFBQUlLLElBQUosQ0FBU2EsTUFBVDtBQUNELEdBTkgsRUFPR1osS0FQSCxDQU9TTCxJQVBUO0FBUUQsQ0FoQkQ7O2tCQWtCZVIsTSIsImZpbGUiOiJhcGkuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdXRlciA9IHJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKTtcblxuaW1wb3J0IGtuZXhjb25maWcgZnJvbSAna25leGZpbGUuanMnO1xuY29uc3Qga25leCA9IHJlcXVpcmUoJ2tuZXgnKShrbmV4Y29uZmlnKTtcbmNvbnN0IGd0ZnNkYiA9IHJlcXVpcmUoJ2d0ZnNkYicpKGtuZXgpO1xuXG4vKiBFbmFibGUgQ09SUyAqL1xuLypyb3V0ZXIuYWxsKCcqJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdYLVJlcXVlc3RlZC1XaXRoJyk7XG4gIG5leHQoKTtcbn0pOyovXG5cbnJvdXRlci5nZXQoJy9hcGkvdjEvYWdlbmN5JywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgZ3Rmc2RiXG4gICAgLmdldEFsbEFnZW5jaWVzKClcbiAgICAudGhlbihmdW5jdGlvbihhZ2VuY2llcykge1xuICAgICAgcmVzLnNlbmQoYWdlbmNpZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKG5leHQpO1xufSk7XG5cbi8vcm91dGVyLmdldCgnL2FnZW5jaWVzTmVhcmJ5LzpsYXQvOmxvbicsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4vLyAgY29uc3QgbGF0ID0gcmVxLnBhcmFtcy5sYXQ7XG4vLyAgY29uc3QgbG9uID0gcmVxLnBhcmFtcy5sb247XG4vL1xuLy8gIGd0ZnMuZ2V0QWdlbmNpZXNCeURpc3RhbmNlKGxhdCwgbG9uLCBmdW5jdGlvbihlLCBkYXRhKSB7XG4vLyAgICBpZihlKSByZXR1cm4gbmV4dChlKTtcbi8vICAgIHJlcy5zZW5kKGRhdGEgfHwge1xuLy8gICAgICBlcnJvcjogJ05vIGFnZW5jaWVzIHdpdGhpbiBkZWZhdWx0IHJhZGl1cydcbi8vICAgIH0pO1xuLy8gIH0pO1xuLy99KTtcblxuLy9yb3V0ZXIuZ2V0KCcvYWdlbmNpZXNOZWFyYnkvOmxhdC86bG9uLzpyYWRpdXNJbk1pbGVzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbi8vICBjb25zdCBsYXQgPSByZXEucGFyYW1zLmxhdDtcbi8vICBjb25zdCBsb24gPSByZXEucGFyYW1zLmxvbjtcbi8vICBjb25zdCByYWRpdXMgPSByZXEucGFyYW1zLnJhZGl1c0luTWlsZXM7XG4vL1xuLy8gIGd0ZnMuZ2V0QWdlbmNpZXNCeURpc3RhbmNlKGxhdCwgbG9uLCByYWRpdXMsIGZ1bmN0aW9uKGUsIGRhdGEpIHtcbi8vICAgIGlmKGUpIHJldHVybiBuZXh0KGUpO1xuLy8gICAgcmVzLnNlbmQoZGF0YSB8fCB7XG4vLyAgICAgIGVycm9yOiAnTm8gYWdlbmNpZXMgd2l0aGluIHJhZGl1cyBvZiAnICsgcmFkaXVzICsgJyBtaWxlcydcbi8vICAgIH0pO1xuLy8gIH0pO1xuLy99KTtcblxucm91dGVyLmdldCgnL2FwaS92MS9hZ2VuY3kvOmFnZW5jeScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IGFnZW5jeUtleSA9IHJlcS5wYXJhbXMuYWdlbmN5O1xuICBndGZzZGJcbiAgICAuZ2V0QWdlbmNpZXMoYWdlbmN5S2V5KVxuICAgIC50aGVuKGZ1bmN0aW9uKGFnZW5jaWVzKSB7XG4gICAgICByZXMuc2VuZChhZ2VuY2llcyk7XG4gICAgfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxucm91dGVyLmdldCgnL2FwaS92MS9hZ2VuY3kvOmFnZW5jeS9yb3V0ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IGFnZW5jeV9rZXkgPSByZXEucGFyYW1zLmFnZW5jeTtcbiAgZ3Rmc2RiXG4gICAgLmdldFJvdXRlcyhhZ2VuY3lfa2V5KVxuICAgIC50aGVuKGZ1bmN0aW9uKGFnZW5jaWVzKSB7XG4gICAgICByZXMuc2VuZChhZ2VuY2llcyk7XG4gICAgfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxucm91dGVyLmdldCgnL2FwaS92MS9hZ2VuY3kvOmFnZW5jeS9yb3V0ZS86cm91dGVJZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IGFnZW5jeUtleSA9IHJlcS5wYXJhbXMuYWdlbmN5O1xuICBjb25zdCByb3V0ZUlkID0gcmVxLnBhcmFtcy5yb3V0ZUlkO1xuICBQcm9taXNlLmFsbChbXG4gICAgZ3Rmc2RiLmdldFJvdXRlKGFnZW5jeUtleSwgcm91dGVJZCksXG4gICAgZ3Rmc2RiLmdldFJvdXRlVHJpcHMoYWdlbmN5S2V5LCByb3V0ZUlkKSxcbiAgXSlcbiAgICAudGhlbih2YWx1ZXMgPT4ge1xuICAgICAgcmVzLnNlbmQodmFsdWVzKTtcbiAgICB9KVxuICAgIC8vZ3Rmc2RiLmdldFJvdXRlKHJlcS5wYXJhbXMuYWdlbmN5LCByZXEucGFyYW1zLnJvdXRlSWQpXG4gICAgLy8udGhlbihmdW5jdGlvbihhZ2VuY2llcykge1xuICAgIC8vICBndGZzZGIuZ2V0Um91dGVUcmlwcyhyZXEucGFyYW1zLmFnZW5jeSwgcmVxLnBhcmFtcy5yb3V0ZUlkKVxuICAgIC8vXG4gICAgLy8gIHJlcy5zZW5kKGFnZW5jaWVzKTtcbiAgICAvL30pXG4gICAgLmNhdGNoKG5leHQpO1xufSk7XG5cbnJvdXRlci5nZXQoJy9hcGkvdjEvYWdlbmN5LzphZ2VuY3kvdHJpcCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGd0ZnNkYlxuICAgIC5nZXRUcmlwcyhyZXEucGFyYW1zLmFnZW5jeSlcbiAgICAudGhlbihmdW5jdGlvbihhZ2VuY2llcykge1xuICAgICAgcmVzLnNlbmQoYWdlbmNpZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKG5leHQpO1xufSk7XG5cbi8vcm91dGVyLmdldCgnL3JvdXRlc05lYXJieS86bGF0Lzpsb24vOnJhZGl1c0luTWlsZXMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuLy8gIGNvbnN0IGxhdCA9IHJlcS5wYXJhbXMubGF0O1xuLy8gIGNvbnN0IGxvbiA9IHJlcS5wYXJhbXMubG9uO1xuLy8gIGNvbnN0IHJhZGl1cyA9IHJlcS5wYXJhbXMucmFkaXVzSW5NaWxlcztcbi8vXG4vLyAgZ3Rmcy5nZXRSb3V0ZXNCeURpc3RhbmNlKGxhdCwgbG9uLCByYWRpdXMsIGZ1bmN0aW9uKGUsIGRhdGEpIHtcbi8vICAgIGlmKGUpIHJldHVybiBuZXh0KGUpO1xuLy8gICAgcmVzLnNlbmQoZGF0YSB8fCB7XG4vLyAgICAgIGVycm9yOiAnTm8gcm91dGVzIHdpdGhpbiByYWRpdXMgb2YgJyArIHJhZGl1cyArICcgbWlsZXMnXG4vLyAgICB9KTtcbi8vICB9KTtcbi8vfSk7XG5cbi8vcm91dGVyLmdldCgnL3JvdXRlc05lYXJieS86bGF0Lzpsb24nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuLy8gIGNvbnN0IGxhdCA9IHJlcS5wYXJhbXMubGF0O1xuLy8gIGNvbnN0IGxvbiA9IHJlcS5wYXJhbXMubG9uO1xuLy9cbi8vICBndGZzLmdldFJvdXRlc0J5RGlzdGFuY2UobGF0LCBsb24sIGZ1bmN0aW9uKGUsIGRhdGEpIHtcbi8vICAgIGlmKGUpIHJldHVybiBuZXh0KGUpO1xuLy8gICAgcmVzLnNlbmQoZGF0YSB8fCB7XG4vLyAgICAgIGVycm9yOiAnTm8gcm91dGVzIHdpdGhpbiBkZWZhdWx0IHJhZGl1cydcbi8vICAgIH0pO1xuLy8gIH0pO1xuLy99KTtcblxucm91dGVyLmdldCgnL2FwaS92MS9hZ2VuY3kvOmFnZW5jeS9zdG9wJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgZ3Rmc2RiXG4gICAgLmdldFN0b3BzKHJlcS5wYXJhbXMuYWdlbmN5KVxuICAgIC50aGVuKGZ1bmN0aW9uKHN0b3BzKSB7XG4gICAgICByZXMuc2VuZChzdG9wcyk7XG4gICAgfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxucm91dGVyLmdldCgnL2FwaS92MS9hZ2VuY3kvOmFnZW5jeS9zdG9wLzpzdG9wSWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICBndGZzZGJcbiAgICAuZ2V0U3RvcChyZXEucGFyYW1zLmFnZW5jeSwgcmVxLnBhcmFtcy5zdG9wSWQpXG4gICAgLnRoZW4oZnVuY3Rpb24oc3RvcCkge1xuICAgICAgcmVzLnNlbmQoc3RvcCk7XG4gICAgfSlcbiAgICAuY2F0Y2gobmV4dCk7XG59KTtcblxuLy9yb3V0ZXIuZ2V0KCcvYWdlbmN5LzphZ2VuY3kvc3RvcC86c3RvcElkL3RpbWV0YWJsZXMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuLy99KTtcblxucm91dGVyLmdldCgnL2FwaS92MS9hZ2VuY3kvOmFnZW5jeS9zdG9wLzpzdG9wSWQvdGltZXRhYmxlcycsIGZ1bmN0aW9uKFxuICByZXEsXG4gIHJlcyxcbiAgbmV4dFxuKSB7XG4gIGNvbnN0IGFnZW5jeUtleSA9IHJlcS5wYXJhbXMuYWdlbmN5O1xuICBjb25zdCBzdG9wSWQgPSByZXEucGFyYW1zLnN0b3BJZDtcblxuICBQcm9taXNlLmFsbChbXG4gICAgZ3Rmc2RiLmdldFN0b3AoYWdlbmN5S2V5LCBzdG9wSWQpLFxuICAgIGd0ZnNkYi5nZXRTdG9wVGltZXMoYWdlbmN5S2V5LCBzdG9wSWQpLFxuICBdKVxuICAgIC50aGVuKHZhbHVlcyA9PiB7XG4gICAgICByZXMuc2VuZCh2YWx1ZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKG5leHQpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "router",
        "require",
        "Router",
        "knex",
        "gtfsdb",
        "get",
        "req",
        "res",
        "next",
        "getAllAgencies",
        "then",
        "agencies",
        "send",
        "catch",
        "agencyKey",
        "params",
        "agency",
        "getAgencies",
        "agency_key",
        "getRoutes",
        "routeId",
        "Promise",
        "all",
        "getRoute",
        "getRouteTrips",
        "values",
        "getTrips",
        "getStops",
        "stops",
        "getStop",
        "stopId",
        "stop",
        "getStopTimes"
      ],
      "mappings": ";;;;;;AAEA;;;;;;AAFA,IAAMA,SAASC,mBAAmBC,MAAnB,EAAf;;AAGA,IAAMC,OAAOF,mCAAb;AACA,IAAMG,SAASH,kBAAkBE,IAAlB,CAAf;;AAEA;AACA;;;;;;AAMAH,OAAOK,GAAP,CAAW,gBAAX,EAA6B,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACpDJ,SACGK,cADH,GAEGC,IAFH,CAEQ,UAASC,QAAT,EAAmB;AACvBJ,QAAIK,IAAJ,CAASD,QAAT;AACD,GAJH,EAKGE,KALH,CAKSL,IALT;AAMD,CAPD;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAR,OAAOK,GAAP,CAAW,wBAAX,EAAqC,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC5D,MAAMM,YAAYR,IAAIS,MAAJ,CAAWC,MAA7B;AACAZ,SACGa,WADH,CACeH,SADf,EAEGJ,IAFH,CAEQ,UAASC,QAAT,EAAmB;AACvBJ,QAAIK,IAAJ,CAASD,QAAT;AACD,GAJH,EAKGE,KALH,CAKSL,IALT;AAMD,CARD;;AAUAR,OAAOK,GAAP,CAAW,8BAAX,EAA2C,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAClE,MAAMU,aAAaZ,IAAIS,MAAJ,CAAWC,MAA9B;AACAZ,SACGe,SADH,CACaD,UADb,EAEGR,IAFH,CAEQ,UAASC,QAAT,EAAmB;AACvBJ,QAAIK,IAAJ,CAASD,QAAT;AACD,GAJH,EAKGE,KALH,CAKSL,IALT;AAMD,CARD;;AAUAR,OAAOK,GAAP,CAAW,uCAAX,EAAoD,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC3E,MAAMM,YAAYR,IAAIS,MAAJ,CAAWC,MAA7B;AACA,MAAMI,UAAUd,IAAIS,MAAJ,CAAWK,OAA3B;AACAC,UAAQC,GAAR,CAAY,CACVlB,OAAOmB,QAAP,CAAgBT,SAAhB,EAA2BM,OAA3B,CADU,EAEVhB,OAAOoB,aAAP,CAAqBV,SAArB,EAAgCM,OAAhC,CAFU,CAAZ,EAIGV,IAJH,CAIQ,kBAAU;AACdH,QAAIK,IAAJ,CAASa,MAAT;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AAZF,IAaGZ,KAbH,CAaSL,IAbT;AAcD,CAjBD;;AAmBAR,OAAOK,GAAP,CAAW,6BAAX,EAA0C,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACjEJ,SACGsB,QADH,CACYpB,IAAIS,MAAJ,CAAWC,MADvB,EAEGN,IAFH,CAEQ,UAASC,QAAT,EAAmB;AACvBJ,QAAIK,IAAJ,CAASD,QAAT;AACD,GAJH,EAKGE,KALH,CAKSL,IALT;AAMD,CAPD;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAR,OAAOK,GAAP,CAAW,6BAAX,EAA0C,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACjEJ,SACGuB,QADH,CACYrB,IAAIS,MAAJ,CAAWC,MADvB,EAEGN,IAFH,CAEQ,UAASkB,KAAT,EAAgB;AACpBrB,QAAIK,IAAJ,CAASgB,KAAT;AACD,GAJH,EAKGf,KALH,CAKSL,IALT;AAMD,CAPD;;AASAR,OAAOK,GAAP,CAAW,qCAAX,EAAkD,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACzEJ,SACGyB,OADH,CACWvB,IAAIS,MAAJ,CAAWC,MADtB,EAC8BV,IAAIS,MAAJ,CAAWe,MADzC,EAEGpB,IAFH,CAEQ,UAASqB,IAAT,EAAe;AACnBxB,QAAIK,IAAJ,CAASmB,IAAT;AACD,GAJH,EAKGlB,KALH,CAKSL,IALT;AAMD,CAPD;;AASA;AACA;;AAEAR,OAAOK,GAAP,CAAW,gDAAX,EAA6D,UAC3DC,GAD2D,EAE3DC,GAF2D,EAG3DC,IAH2D,EAI3D;AACA,MAAMM,YAAYR,IAAIS,MAAJ,CAAWC,MAA7B;AACA,MAAMc,SAASxB,IAAIS,MAAJ,CAAWe,MAA1B;;AAEAT,UAAQC,GAAR,CAAY,CACVlB,OAAOyB,OAAP,CAAef,SAAf,EAA0BgB,MAA1B,CADU,EAEV1B,OAAO4B,YAAP,CAAoBlB,SAApB,EAA+BgB,MAA/B,CAFU,CAAZ,EAIGpB,IAJH,CAIQ,kBAAU;AACdH,QAAIK,IAAJ,CAASa,MAAT;AACD,GANH,EAOGZ,KAPH,CAOSL,IAPT;AAQD,CAhBD;;kBAkBeR,M",
      "file": "api.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "const router = require('express').Router();\n\nimport knexconfig from 'knexfile.js';\nconst knex = require('knex')(knexconfig);\nconst gtfsdb = require('gtfsdb')(knex);\n\n/* Enable CORS */\n/*router.all('*', function(req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Headers', 'X-Requested-With');\n  next();\n});*/\n\nrouter.get('/api/v1/agency', function(req, res, next) {\n  gtfsdb\n    .getAllAgencies()\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\n//router.get('/agenciesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within default radius'\n//    });\n//  });\n//});\n\n//router.get('/agenciesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getAgenciesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No agencies within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\nrouter.get('/api/v1/agency/:agency', function(req, res, next) {\n  const agencyKey = req.params.agency;\n  gtfsdb\n    .getAgencies(agencyKey)\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/route', function(req, res, next) {\n  const agency_key = req.params.agency;\n  gtfsdb\n    .getRoutes(agency_key)\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/route/:routeId', function(req, res, next) {\n  const agencyKey = req.params.agency;\n  const routeId = req.params.routeId;\n  Promise.all([\n    gtfsdb.getRoute(agencyKey, routeId),\n    gtfsdb.getRouteTrips(agencyKey, routeId),\n  ])\n    .then(values => {\n      res.send(values);\n    })\n    //gtfsdb.getRoute(req.params.agency, req.params.routeId)\n    //.then(function(agencies) {\n    //  gtfsdb.getRouteTrips(req.params.agency, req.params.routeId)\n    //\n    //  res.send(agencies);\n    //})\n    .catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/trip', function(req, res, next) {\n  gtfsdb\n    .getTrips(req.params.agency)\n    .then(function(agencies) {\n      res.send(agencies);\n    })\n    .catch(next);\n});\n\n//router.get('/routesNearby/:lat/:lon/:radiusInMiles', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//  const radius = req.params.radiusInMiles;\n//\n//  gtfs.getRoutesByDistance(lat, lon, radius, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within radius of ' + radius + ' miles'\n//    });\n//  });\n//});\n\n//router.get('/routesNearby/:lat/:lon', function(req, res, next) {\n//  const lat = req.params.lat;\n//  const lon = req.params.lon;\n//\n//  gtfs.getRoutesByDistance(lat, lon, function(e, data) {\n//    if(e) return next(e);\n//    res.send(data || {\n//      error: 'No routes within default radius'\n//    });\n//  });\n//});\n\nrouter.get('/api/v1/agency/:agency/stop', function(req, res, next) {\n  gtfsdb\n    .getStops(req.params.agency)\n    .then(function(stops) {\n      res.send(stops);\n    })\n    .catch(next);\n});\n\nrouter.get('/api/v1/agency/:agency/stop/:stopId', function(req, res, next) {\n  gtfsdb\n    .getStop(req.params.agency, req.params.stopId)\n    .then(function(stop) {\n      res.send(stop);\n    })\n    .catch(next);\n});\n\n//router.get('/agency/:agency/stop/:stopId/timetables', function(req, res, next) {\n//});\n\nrouter.get('/api/v1/agency/:agency/stop/:stopId/timetables', function(\n  req,\n  res,\n  next\n) {\n  const agencyKey = req.params.agency;\n  const stopId = req.params.stopId;\n\n  Promise.all([\n    gtfsdb.getStop(agencyKey, stopId),\n    gtfsdb.getStopTimes(agencyKey, stopId),\n  ])\n    .then(values => {\n      res.send(values);\n    })\n    .catch(next);\n});\n\nexport default router;\n"
      ]
    },
    "mtime": 1498089953000
  },
  "{\"filename\":\"/home/app/knexfile.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/knexfile.js",
      "filenameRelative": "/home/app/knexfile.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "knexfile.js",
      "sourceFileName": "knexfile.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "knexfile"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  client: 'postgresql',\n  connection: {\n    host: 'postgres',\n    database: 'postgres',\n    user: 'postgres',\n    password: '',\n    charset: 'utf8'\n  },\n\n  migrations: {\n    directory: './node_modules/gtfsdb/migrations'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhmaWxlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwiaG9zdCIsImRhdGFiYXNlIiwidXNlciIsInBhc3N3b3JkIiwiY2hhcnNldCIsIm1pZ3JhdGlvbnMiLCJkaXJlY3RvcnkiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsVUFBUSxZQURPO0FBRWZDLGNBQVk7QUFDVkMsVUFBTSxVQURJO0FBRVZDLGNBQVUsVUFGQTtBQUdWQyxVQUFNLFVBSEk7QUFJVkMsY0FBVSxFQUpBO0FBS1ZDLGFBQVM7QUFMQyxHQUZHOztBQVVmQyxjQUFZO0FBQ1ZDLGVBQVc7QUFERDtBQVZHLENBQWpCIiwiZmlsZSI6ImtuZXhmaWxlLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcCIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBjbGllbnQ6ICdwb3N0Z3Jlc3FsJyxcbiAgY29ubmVjdGlvbjoge1xuICAgIGhvc3Q6ICdwb3N0Z3JlcycsXG4gICAgZGF0YWJhc2U6ICdwb3N0Z3JlcycsXG4gICAgdXNlcjogJ3Bvc3RncmVzJyxcbiAgICBwYXNzd29yZDogJycsXG4gICAgY2hhcnNldDogJ3V0ZjgnLFxuICB9LFxuXG4gIG1pZ3JhdGlvbnM6IHtcbiAgICBkaXJlY3Rvcnk6ICcuL25vZGVfbW9kdWxlcy9ndGZzZGIvbWlncmF0aW9ucycsXG4gIH0sXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "knexfile.js"
      ],
      "names": [
        "module",
        "exports",
        "client",
        "connection",
        "host",
        "database",
        "user",
        "password",
        "charset",
        "migrations",
        "directory"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,UAAQ,YADO;AAEfC,cAAY;AACVC,UAAM,UADI;AAEVC,cAAU,UAFA;AAGVC,UAAM,UAHI;AAIVC,cAAU,EAJA;AAKVC,aAAS;AALC,GAFG;;AAUfC,cAAY;AACVC,eAAW;AADD;AAVG,CAAjB",
      "file": "knexfile.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "module.exports = {\n  client: 'postgresql',\n  connection: {\n    host: 'postgres',\n    database: 'postgres',\n    user: 'postgres',\n    password: '',\n    charset: 'utf8',\n  },\n\n  migrations: {\n    directory: './node_modules/gtfsdb/migrations',\n  },\n};\n"
      ]
    },
    "mtime": 1497678883000
  },
  "{\"filename\":\"/home/app/routes/protobuf.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lib/gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/protobuf.js",
      "filenameRelative": "/home/app/routes/protobuf.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "protobuf.js",
      "sourceFileName": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "protobuf"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('../lib/gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    var buffer;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return (0, _gtfs2.default)('http://transit.tsomobile.com/miami/RealTimeFeed-miami');\n\n          case 3:\n            buffer = _context.sent;\n\n            res.send(buffer);\n            _context.next = 11;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](0);\n\n            console.log(_context.t0);\n            res.send('Epic Fail');\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 7]]);\n  }));\n\n  function protobuf(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return protobuf;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3RvYnVmLmpzIl0sIm5hbWVzIjpbInJlcSIsInJlcyIsImJ1ZmZlciIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwicHJvdG9idWYiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7dURBRWUsaUJBQXdCQSxHQUF4QixFQUE2QkMsR0FBN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUVVLG9CQUNuQix1REFEbUIsQ0FGVjs7QUFBQTtBQUVMQyxrQkFGSzs7QUFLWEQsZ0JBQUlFLElBQUosQ0FBU0QsTUFBVDtBQUxXO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQU9YRSxvQkFBUUMsR0FBUjtBQUNBSixnQkFBSUUsSUFBSixDQUFTLFdBQVQ7O0FBUlc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRzs7V0FBZUcsUTs7OztTQUFBQSxRIiwiZmlsZSI6InByb3RvYnVmLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcC9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ3RmcyBmcm9tICdsaWIvZ3Rmcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHByb3RvYnVmKHJlcSwgcmVzKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgZ3RmcyhcbiAgICAgICdodHRwOi8vdHJhbnNpdC50c29tb2JpbGUuY29tL21pYW1pL1JlYWxUaW1lRmVlZC1taWFtaSdcbiAgICApO1xuICAgIHJlcy5zZW5kKGJ1ZmZlcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJlcy5zZW5kKCdFcGljIEZhaWwnKTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "protobuf.js"
      ],
      "names": [
        "req",
        "res",
        "buffer",
        "send",
        "console",
        "log",
        "protobuf"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;;uDAEe,iBAAwBA,GAAxB,EAA6BC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEU,oBACnB,uDADmB,CAFV;;AAAA;AAELC,kBAFK;;AAKXD,gBAAIE,IAAJ,CAASD,MAAT;AALW;AAAA;;AAAA;AAAA;AAAA;;AAOXE,oBAAQC,GAAR;AACAJ,gBAAIE,IAAJ,CAAS,WAAT;;AARW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeG,Q;;;;SAAAA,Q",
      "file": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'lib/gtfs';\n\nexport default async function protobuf(req, res) {\n  try {\n    const buffer = await gtfs(\n      'http://transit.tsomobile.com/miami/RealTimeFeed-miami'\n    );\n    res.send(buffer);\n  } catch (error) {\n    console.log(error);\n    res.send('Epic Fail');\n  }\n}\n"
      ]
    },
    "mtime": 1497768532000
  },
  "{\"filename\":\"/home/app/lib/gtfs/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/lib/gtfs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "protobufjs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ProtoBuf"
              }
            ]
          },
          {
            "source": "request",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "gtfs",
            "url"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "gtfs",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "url",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/app/lib/gtfs/index.js",
      "filenameRelative": "/home/app/lib/gtfs/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/lib/gtfs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = gtfs;\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _protobufjs = require('protobufjs');\n\nvar _protobufjs2 = _interopRequireDefault(_protobufjs);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction decode(feedBuffer) {\n  var builder = _protobufjs2.default.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  var transit = builder.build('transit_realtime');\n  var result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise(function (resolve, reject) {\n    (0, _request2.default)(options, function (err, res, body) {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nfunction gtfs(url) {\n  var options = {\n    url: url,\n    method: 'get',\n    encoding: null\n  };\n\n  return loadGTFSRealtimeFeed(options).then(function (feedBuffer) {\n    var result = decode(feedBuffer);\n    return result;\n  }).catch(function (err) {\n    return err;\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImd0ZnMiLCJkZWNvZGUiLCJmZWVkQnVmZmVyIiwiYnVpbGRlciIsImxvYWRQcm90b0ZpbGUiLCJ0cmFuc2l0IiwiYnVpbGQiLCJyZXN1bHQiLCJGZWVkTWVzc2FnZSIsImxvYWRHVEZTUmVhbHRpbWVGZWVkIiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwicmVzIiwiYm9keSIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1c0NvZGUiLCJ1cmwiLCJtZXRob2QiLCJlbmNvZGluZyIsInRoZW4iLCJjYXRjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBMkJ3QkEsSTs7QUEzQnhCOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0MsTUFBVCxDQUFnQkMsVUFBaEIsRUFBNEI7QUFDMUIsTUFBTUMsVUFBVSxxQkFBU0MsYUFBVCxDQUF1Qiw4QkFBdkIsQ0FBaEI7QUFDQSxNQUFNQyxVQUFVRixRQUFRRyxLQUFSLENBQWMsa0JBQWQsQ0FBaEI7QUFDQSxNQUFNQyxTQUFTRixRQUFRRyxXQUFSLENBQW9CUCxNQUFwQixDQUEyQkMsVUFBM0IsQ0FBZjtBQUNBLFNBQU9LLE1BQVA7QUFDRDs7QUFFRCxTQUFTRSxvQkFBVCxDQUE4QkMsT0FBOUIsRUFBdUM7QUFDckMsU0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQ3RDLDJCQUFRSCxPQUFSLEVBQWlCLFVBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ25DLFVBQUlGLEdBQUosRUFBUztBQUNQRyxnQkFBUUMsS0FBUixDQUFjSixHQUFkLEVBQW1CRSxJQUFuQjtBQUNBSCxlQUFPQyxHQUFQO0FBQ0Q7QUFDRCxVQUFJQyxJQUFJSSxVQUFKLEtBQW1CLEdBQXZCLEVBQTRCO0FBQzFCRixnQkFBUUMsS0FBUixDQUFjRixJQUFkO0FBQ0FILGVBQU9HLElBQVA7QUFDRDtBQUNESixjQUFRSSxJQUFSO0FBQ0QsS0FWRDtBQVdELEdBWk0sQ0FBUDtBQWFEOztBQUVjLFNBQVNoQixJQUFULENBQWNvQixHQUFkLEVBQW1CO0FBQ2hDLE1BQU1WLFVBQVU7QUFDZFUsU0FBS0EsR0FEUztBQUVkQyxZQUFRLEtBRk07QUFHZEMsY0FBVTtBQUhJLEdBQWhCOztBQU1BLFNBQU9iLHFCQUFxQkMsT0FBckIsRUFDSmEsSUFESSxDQUNDLHNCQUFjO0FBQ2xCLFFBQU1oQixTQUFTTixPQUFPQyxVQUFQLENBQWY7QUFDQSxXQUFPSyxNQUFQO0FBQ0QsR0FKSSxFQUtKaUIsS0FMSSxDQUtFLGVBQU87QUFDWixXQUFPVixHQUFQO0FBQ0QsR0FQSSxDQUFQO0FBUUQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL2xpYi9ndGZzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgUHJvdG9CdWYgZnJvbSAncHJvdG9idWZqcyc7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICdyZXF1ZXN0JztcblxuZnVuY3Rpb24gZGVjb2RlKGZlZWRCdWZmZXIpIHtcbiAgY29uc3QgYnVpbGRlciA9IFByb3RvQnVmLmxvYWRQcm90b0ZpbGUoJ2xpYi9ndGZzL2d0ZnMtcmVhbHRpbWUucHJvdG8nKTtcbiAgY29uc3QgdHJhbnNpdCA9IGJ1aWxkZXIuYnVpbGQoJ3RyYW5zaXRfcmVhbHRpbWUnKTtcbiAgY29uc3QgcmVzdWx0ID0gdHJhbnNpdC5GZWVkTWVzc2FnZS5kZWNvZGUoZmVlZEJ1ZmZlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGxvYWRHVEZTUmVhbHRpbWVGZWVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0KG9wdGlvbnMsIChlcnIsIHJlcywgYm9keSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVyciwgYm9keSk7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihib2R5KTtcbiAgICAgICAgcmVqZWN0KGJvZHkpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShib2R5KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGd0ZnModXJsKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdXJsOiB1cmwsXG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICBlbmNvZGluZzogbnVsbCxcbiAgfTtcblxuICByZXR1cm4gbG9hZEdURlNSZWFsdGltZUZlZWQob3B0aW9ucylcbiAgICAudGhlbihmZWVkQnVmZmVyID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGRlY29kZShmZWVkQnVmZmVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "gtfs",
        "decode",
        "feedBuffer",
        "builder",
        "loadProtoFile",
        "transit",
        "build",
        "result",
        "FeedMessage",
        "loadGTFSRealtimeFeed",
        "options",
        "Promise",
        "resolve",
        "reject",
        "err",
        "res",
        "body",
        "console",
        "error",
        "statusCode",
        "url",
        "method",
        "encoding",
        "then",
        "catch"
      ],
      "mappings": ";;;;;kBA2BwBA,I;;AA3BxB;;;;AACA;;;;AACA;;;;;;AAEA,SAASC,MAAT,CAAgBC,UAAhB,EAA4B;AAC1B,MAAMC,UAAU,qBAASC,aAAT,CAAuB,8BAAvB,CAAhB;AACA,MAAMC,UAAUF,QAAQG,KAAR,CAAc,kBAAd,CAAhB;AACA,MAAMC,SAASF,QAAQG,WAAR,CAAoBP,MAApB,CAA2BC,UAA3B,CAAf;AACA,SAAOK,MAAP;AACD;;AAED,SAASE,oBAAT,CAA8BC,OAA9B,EAAuC;AACrC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,2BAAQH,OAAR,EAAiB,UAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnC,UAAIF,GAAJ,EAAS;AACPG,gBAAQC,KAAR,CAAcJ,GAAd,EAAmBE,IAAnB;AACAH,eAAOC,GAAP;AACD;AACD,UAAIC,IAAII,UAAJ,KAAmB,GAAvB,EAA4B;AAC1BF,gBAAQC,KAAR,CAAcF,IAAd;AACAH,eAAOG,IAAP;AACD;AACDJ,cAAQI,IAAR;AACD,KAVD;AAWD,GAZM,CAAP;AAaD;;AAEc,SAAShB,IAAT,CAAcoB,GAAd,EAAmB;AAChC,MAAMV,UAAU;AACdU,SAAKA,GADS;AAEdC,YAAQ,KAFM;AAGdC,cAAU;AAHI,GAAhB;;AAMA,SAAOb,qBAAqBC,OAArB,EACJa,IADI,CACC,sBAAc;AAClB,QAAMhB,SAASN,OAAOC,UAAP,CAAf;AACA,WAAOK,MAAP;AACD,GAJI,EAKJiB,KALI,CAKE,eAAO;AACZ,WAAOV,GAAP;AACD,GAPI,CAAP;AAQD",
      "file": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "sourcesContent": [
        "import path from 'path';\nimport ProtoBuf from 'protobufjs';\nimport request from 'request';\n\nfunction decode(feedBuffer) {\n  const builder = ProtoBuf.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  const transit = builder.build('transit_realtime');\n  const result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise((resolve, reject) => {\n    request(options, (err, res, body) => {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nexport default function gtfs(url) {\n  const options = {\n    url: url,\n    method: 'get',\n    encoding: null,\n  };\n\n  return loadGTFSRealtimeFeed(options)\n    .then(feedBuffer => {\n      const result = decode(feedBuffer);\n      return result;\n    })\n    .catch(err => {\n      return err;\n    });\n}\n"
      ]
    },
    "mtime": 1497770160000
  },
  "{\"filename\":\"/home/app/routes/routes.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "slicedToArray",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/routes.js",
      "filenameRelative": "/home/app/routes/routes.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "routes.js",
      "sourceFileName": "routes.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "routes"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    var _ref2, _ref3, routes, stops, stopsJSON;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Promise.all([_gtfs2.default.getRoutesByAgency('miami'), _gtfs2.default.getStops('miami'), _gtfs2.default.getStopsAsGeoJSON('miami')]);\n\n          case 2:\n            _ref2 = _context.sent;\n            _ref3 = _slicedToArray(_ref2, 3);\n            routes = _ref3[0];\n            stops = _ref3[1];\n            stopsJSON = _ref3[2];\n\n            res.send({\n              success: true,\n              routes: routes,\n              stops: stops,\n              stopsJSON: stopsJSON\n            });\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function routes(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return routes;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyZXEiLCJyZXMiLCJQcm9taXNlIiwiYWxsIiwiZ2V0Um91dGVzQnlBZ2VuY3kiLCJnZXRTdG9wcyIsImdldFN0b3BzQXNHZW9KU09OIiwicm91dGVzIiwic3RvcHMiLCJzdG9wc0pTT04iLCJzZW5kIiwic3VjY2VzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7O3VEQUVlLGlCQUFzQkEsR0FBdEIsRUFBMkJDLEdBQTNCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUM0QkMsUUFBUUMsR0FBUixDQUFZLENBQ25ELGVBQUtDLGlCQUFMLENBQXVCLE9BQXZCLENBRG1ELEVBRW5ELGVBQUtDLFFBQUwsQ0FBYyxPQUFkLENBRm1ELEVBR25ELGVBQUtDLGlCQUFMLENBQXVCLE9BQXZCLENBSG1ELENBQVosQ0FENUI7O0FBQUE7QUFBQTtBQUFBO0FBQ05DLGtCQURNO0FBQ0VDLGlCQURGO0FBQ1NDLHFCQURUOztBQU1iUixnQkFBSVMsSUFBSixDQUFTO0FBQ1BDLHVCQUFTLElBREY7QUFFUEosNEJBRk87QUFHUEMsMEJBSE87QUFJUEM7QUFKTyxhQUFUOztBQU5hO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEc7O1dBQWVGLE07Ozs7U0FBQUEsTSIsImZpbGUiOiJyb3V0ZXMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBndGZzIGZyb20gJ2d0ZnMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiByb3V0ZXMocmVxLCByZXMpIHtcbiAgY29uc3QgW3JvdXRlcywgc3RvcHMsIHN0b3BzSlNPTl0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgZ3Rmcy5nZXRSb3V0ZXNCeUFnZW5jeSgnbWlhbWknKSxcbiAgICBndGZzLmdldFN0b3BzKCdtaWFtaScpLFxuICAgIGd0ZnMuZ2V0U3RvcHNBc0dlb0pTT04oJ21pYW1pJyksXG4gIF0pO1xuICByZXMuc2VuZCh7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICByb3V0ZXMsXG4gICAgc3RvcHMsXG4gICAgc3RvcHNKU09OLFxuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "req",
        "res",
        "Promise",
        "all",
        "getRoutesByAgency",
        "getStops",
        "getStopsAsGeoJSON",
        "routes",
        "stops",
        "stopsJSON",
        "send",
        "success"
      ],
      "mappings": ";;;;;;;;AAAA;;;;;;;;;uDAEe,iBAAsBA,GAAtB,EAA2BC,GAA3B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC4BC,QAAQC,GAAR,CAAY,CACnD,eAAKC,iBAAL,CAAuB,OAAvB,CADmD,EAEnD,eAAKC,QAAL,CAAc,OAAd,CAFmD,EAGnD,eAAKC,iBAAL,CAAuB,OAAvB,CAHmD,CAAZ,CAD5B;;AAAA;AAAA;AAAA;AACNC,kBADM;AACEC,iBADF;AACSC,qBADT;;AAMbR,gBAAIS,IAAJ,CAAS;AACPC,uBAAS,IADF;AAEPJ,4BAFO;AAGPC,0BAHO;AAIPC;AAJO,aAAT;;AANa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeF,M;;;;SAAAA,M",
      "file": "routes.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\n\nexport default async function routes(req, res) {\n  const [routes, stops, stopsJSON] = await Promise.all([\n    gtfs.getRoutesByAgency('miami'),\n    gtfs.getStops('miami'),\n    gtfs.getStopsAsGeoJSON('miami'),\n  ]);\n  res.send({\n    success: true,\n    routes,\n    stops,\n    stopsJSON,\n  });\n}\n"
      ]
    },
    "mtime": 1498258504000
  },
  "{\"filename\":\"/home/app/lib/gtfsdb.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/lib\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "knexfile.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "knexconfig"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/lib/gtfsdb.js",
      "filenameRelative": "/home/app/lib/gtfsdb.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "gtfsdb.js",
      "sourceFileName": "gtfsdb.js",
      "sourceRoot": "/home/app/lib",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/lib",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "gtfsdb"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _knexfile = require('../knexfile.js');\n\nvar _knexfile2 = _interopRequireDefault(_knexfile);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar knex = require('knex')(_knexfile2.default);\nvar gtfsdb = require('gtfsdb')(knex);\n\nexports.default = gtfsdb;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd0ZnNkYi5qcyJdLCJuYW1lcyI6WyJrbmV4IiwicmVxdWlyZSIsImd0ZnNkYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztBQUNBLElBQU1BLE9BQU9DLG1DQUFiO0FBQ0EsSUFBTUMsU0FBU0Qsa0JBQWtCRCxJQUFsQixDQUFmOztrQkFFZUUsTSIsImZpbGUiOiJndGZzZGIuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL2xpYiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBrbmV4Y29uZmlnIGZyb20gJ2tuZXhmaWxlLmpzJztcbmNvbnN0IGtuZXggPSByZXF1aXJlKCdrbmV4Jykoa25leGNvbmZpZyk7XG5jb25zdCBndGZzZGIgPSByZXF1aXJlKCdndGZzZGInKShrbmV4KTtcblxuZXhwb3J0IGRlZmF1bHQgZ3Rmc2RiO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "gtfsdb.js"
      ],
      "names": [
        "knex",
        "require",
        "gtfsdb"
      ],
      "mappings": ";;;;;;AAAA;;;;;;AACA,IAAMA,OAAOC,mCAAb;AACA,IAAMC,SAASD,kBAAkBD,IAAlB,CAAf;;kBAEeE,M",
      "file": "gtfsdb.js",
      "sourceRoot": "/home/app/lib",
      "sourcesContent": [
        "import knexconfig from 'knexfile.js';\nconst knex = require('knex')(knexconfig);\nconst gtfsdb = require('gtfsdb')(knex);\n\nexport default gtfsdb;\n"
      ]
    },
    "mtime": 1498090570000
  },
  "{\"filename\":\"/home/app/routes/trips.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/trips.js",
      "filenameRelative": "/home/app/routes/trips.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "trips.js",
      "sourceFileName": "trips.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "trips"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    var routeId, all, routes, stops;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            routeId = req.body.routeId;\n            _context.next = 3;\n            return _gtfs2.default.getDirectionsByRoute('miami', routeId);\n\n          case 3:\n            all = _context.sent;\n            routes = (0, _lodash2.default)(all).groupBy('route_id').mapValues(function (group) {\n              return (0, _lodash2.default)(group).map(function (trip) {\n                return trip.direction_id;\n              }).uniq().value();\n            }).value();\n            _context.next = 7;\n            return Promise.all((0, _lodash2.default)(routes).map(function (directions, route) {\n              return Promise.all(directions.map(function (direction) {\n                return _gtfs2.default.getStopsByRoute('miami', route, direction);\n              }));\n            }).value());\n\n          case 7:\n            stops = _context.sent;\n\n            res.send({\n              success: true,\n              stops: stops\n            });\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function trips(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return trips;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyaXBzLmpzIl0sIm5hbWVzIjpbInJlcSIsInJlcyIsInJvdXRlSWQiLCJib2R5IiwiZ2V0RGlyZWN0aW9uc0J5Um91dGUiLCJhbGwiLCJyb3V0ZXMiLCJncm91cEJ5IiwibWFwVmFsdWVzIiwiZ3JvdXAiLCJtYXAiLCJ0cmlwIiwiZGlyZWN0aW9uX2lkIiwidW5pcSIsInZhbHVlIiwiUHJvbWlzZSIsImRpcmVjdGlvbnMiLCJyb3V0ZSIsImdldFN0b3BzQnlSb3V0ZSIsImRpcmVjdGlvbiIsInN0b3BzIiwic2VuZCIsInN1Y2Nlc3MiLCJ0cmlwcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7Ozs7O3VEQUVlLGlCQUFxQkEsR0FBckIsRUFBMEJDLEdBQTFCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNQQyxtQkFETyxHQUNHRixJQUFJRyxJQUFKLENBQVNELE9BRFo7QUFBQTtBQUFBLG1CQUVLLGVBQUtFLG9CQUFMLENBQTBCLE9BQTFCLEVBQW1DRixPQUFuQyxDQUZMOztBQUFBO0FBRVBHLGVBRk87QUFHUEMsa0JBSE8sR0FHRSxzQkFBRUQsR0FBRixFQUNaRSxPQURZLENBQ0osVUFESSxFQUVaQyxTQUZZLENBRUYsaUJBQVM7QUFDbEIscUJBQU8sc0JBQUVDLEtBQUYsRUFBU0MsR0FBVCxDQUFhO0FBQUEsdUJBQVFDLEtBQUtDLFlBQWI7QUFBQSxlQUFiLEVBQXdDQyxJQUF4QyxHQUErQ0MsS0FBL0MsRUFBUDtBQUNELGFBSlksRUFLWkEsS0FMWSxFQUhGO0FBQUE7QUFBQSxtQkFTT0MsUUFBUVYsR0FBUixDQUNsQixzQkFBRUMsTUFBRixFQUNHSSxHQURILENBQ08sVUFBQ00sVUFBRCxFQUFhQyxLQUFiLEVBQXVCO0FBQzFCLHFCQUFPRixRQUFRVixHQUFSLENBQ0xXLFdBQVdOLEdBQVgsQ0FBZSxxQkFBYTtBQUMxQix1QkFBTyxlQUFLUSxlQUFMLENBQXFCLE9BQXJCLEVBQThCRCxLQUE5QixFQUFxQ0UsU0FBckMsQ0FBUDtBQUNELGVBRkQsQ0FESyxDQUFQO0FBS0QsYUFQSCxFQVFHTCxLQVJILEVBRGtCLENBVFA7O0FBQUE7QUFTUE0saUJBVE87O0FBb0JibkIsZ0JBQUlvQixJQUFKLENBQVM7QUFDUEMsdUJBQVMsSUFERjtBQUVQRjtBQUZPLGFBQVQ7O0FBcEJhO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEc7O1dBQWVHLEs7Ozs7U0FBQUEsSyIsImZpbGUiOiJ0cmlwcy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHAvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGd0ZnMgZnJvbSAnZ3Rmcyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiB0cmlwcyhyZXEsIHJlcykge1xuICBjb25zdCByb3V0ZUlkID0gcmVxLmJvZHkucm91dGVJZDtcbiAgY29uc3QgYWxsID0gYXdhaXQgZ3Rmcy5nZXREaXJlY3Rpb25zQnlSb3V0ZSgnbWlhbWknLCByb3V0ZUlkKTtcbiAgY29uc3Qgcm91dGVzID0gXyhhbGwpXG4gICAgLmdyb3VwQnkoJ3JvdXRlX2lkJylcbiAgICAubWFwVmFsdWVzKGdyb3VwID0+IHtcbiAgICAgIHJldHVybiBfKGdyb3VwKS5tYXAodHJpcCA9PiB0cmlwLmRpcmVjdGlvbl9pZCkudW5pcSgpLnZhbHVlKCk7XG4gICAgfSlcbiAgICAudmFsdWUoKTtcbiAgY29uc3Qgc3RvcHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBfKHJvdXRlcylcbiAgICAgIC5tYXAoKGRpcmVjdGlvbnMsIHJvdXRlKSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgICBkaXJlY3Rpb25zLm1hcChkaXJlY3Rpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGd0ZnMuZ2V0U3RvcHNCeVJvdXRlKCdtaWFtaScsIHJvdXRlLCBkaXJlY3Rpb24pO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLnZhbHVlKClcbiAgKTtcbiAgcmVzLnNlbmQoe1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgc3RvcHMsXG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "trips.js"
      ],
      "names": [
        "req",
        "res",
        "routeId",
        "body",
        "getDirectionsByRoute",
        "all",
        "routes",
        "groupBy",
        "mapValues",
        "group",
        "map",
        "trip",
        "direction_id",
        "uniq",
        "value",
        "Promise",
        "directions",
        "route",
        "getStopsByRoute",
        "direction",
        "stops",
        "send",
        "success",
        "trips"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;;;;uDAEe,iBAAqBA,GAArB,EAA0BC,GAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,mBADO,GACGF,IAAIG,IAAJ,CAASD,OADZ;AAAA;AAAA,mBAEK,eAAKE,oBAAL,CAA0B,OAA1B,EAAmCF,OAAnC,CAFL;;AAAA;AAEPG,eAFO;AAGPC,kBAHO,GAGE,sBAAED,GAAF,EACZE,OADY,CACJ,UADI,EAEZC,SAFY,CAEF,iBAAS;AAClB,qBAAO,sBAAEC,KAAF,EAASC,GAAT,CAAa;AAAA,uBAAQC,KAAKC,YAAb;AAAA,eAAb,EAAwCC,IAAxC,GAA+CC,KAA/C,EAAP;AACD,aAJY,EAKZA,KALY,EAHF;AAAA;AAAA,mBASOC,QAAQV,GAAR,CAClB,sBAAEC,MAAF,EACGI,GADH,CACO,UAACM,UAAD,EAAaC,KAAb,EAAuB;AAC1B,qBAAOF,QAAQV,GAAR,CACLW,WAAWN,GAAX,CAAe,qBAAa;AAC1B,uBAAO,eAAKQ,eAAL,CAAqB,OAArB,EAA8BD,KAA9B,EAAqCE,SAArC,CAAP;AACD,eAFD,CADK,CAAP;AAKD,aAPH,EAQGL,KARH,EADkB,CATP;;AAAA;AASPM,iBATO;;AAoBbnB,gBAAIoB,IAAJ,CAAS;AACPC,uBAAS,IADF;AAEPF;AAFO,aAAT;;AApBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeG,K;;;;SAAAA,K",
      "file": "trips.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nimport _ from 'lodash';\n\nexport default async function trips(req, res) {\n  const routeId = req.body.routeId;\n  const all = await gtfs.getDirectionsByRoute('miami', routeId);\n  const routes = _(all)\n    .groupBy('route_id')\n    .mapValues(group => {\n      return _(group).map(trip => trip.direction_id).uniq().value();\n    })\n    .value();\n  const stops = await Promise.all(\n    _(routes)\n      .map((directions, route) => {\n        return Promise.all(\n          directions.map(direction => {\n            return gtfs.getStopsByRoute('miami', route, direction);\n          })\n        );\n      })\n      .value()\n  );\n  res.send({\n    success: true,\n    stops,\n  });\n}\n"
      ]
    },
    "mtime": 1498170426000
  },
  "{\"filename\":\"/home/app/routes/importGTFS.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/importGTFS.js",
      "filenameRelative": "/home/app/routes/importGTFS.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "importGTFS.js",
      "sourceFileName": "importGTFS.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "importGTFS"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar config = require('../config.json');\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            res.send('Starting import!');\n            _context.prev = 1;\n            _context.next = 4;\n            return _gtfs2.default.import(config);\n\n          case 4:\n            console.log('Successfully imported!');\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](1);\n\n            console.log(_context.t0);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 7]]);\n  }));\n\n  function importGTFS(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return importGTFS;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltcG9ydEdURlMuanMiXSwibmFtZXMiOlsiY29uZmlnIiwicmVxdWlyZSIsInJlcSIsInJlcyIsInNlbmQiLCJpbXBvcnQiLCJjb25zb2xlIiwibG9nIiwiaW1wb3J0R1RGUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7Ozs7O0FBQ0EsSUFBTUEsU0FBU0MsUUFBUSxnQkFBUixDQUFmOzs7dURBRWUsaUJBQTBCQyxHQUExQixFQUErQkMsR0FBL0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNiQSxnQkFBSUMsSUFBSixDQUFTLGtCQUFUO0FBRGE7QUFBQTtBQUFBLG1CQUdMLGVBQUtDLE1BQUwsQ0FBWUwsTUFBWixDQUhLOztBQUFBO0FBSVhNLG9CQUFRQyxHQUFSLENBQVksd0JBQVo7QUFKVztBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFNWEQsb0JBQVFDLEdBQVI7O0FBTlc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRzs7V0FBZUMsVTs7OztTQUFBQSxVIiwiZmlsZSI6ImltcG9ydEdURlMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBndGZzIGZyb20gJ2d0ZnMnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi4vY29uZmlnLmpzb24nKTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0R1RGUyhyZXEsIHJlcykge1xuICByZXMuc2VuZCgnU3RhcnRpbmcgaW1wb3J0IScpO1xuICB0cnkge1xuICAgIGF3YWl0IGd0ZnMuaW1wb3J0KGNvbmZpZyk7XG4gICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBpbXBvcnRlZCEnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "importGTFS.js"
      ],
      "names": [
        "config",
        "require",
        "req",
        "res",
        "send",
        "import",
        "console",
        "log",
        "importGTFS"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;AACA,IAAMA,SAASC,QAAQ,gBAAR,CAAf;;;uDAEe,iBAA0BC,GAA1B,EAA+BC,GAA/B;AAAA;AAAA;AAAA;AAAA;AACbA,gBAAIC,IAAJ,CAAS,kBAAT;AADa;AAAA;AAAA,mBAGL,eAAKC,MAAL,CAAYL,MAAZ,CAHK;;AAAA;AAIXM,oBAAQC,GAAR,CAAY,wBAAZ;AAJW;AAAA;;AAAA;AAAA;AAAA;;AAMXD,oBAAQC,GAAR;;AANW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeC,U;;;;SAAAA,U",
      "file": "importGTFS.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nconst config = require('../config.json');\n\nexport default async function importGTFS(req, res) {\n  res.send('Starting import!');\n  try {\n    await gtfs.import(config);\n    console.log('Successfully imported!');\n  } catch (err) {\n    console.log(err);\n  }\n}\n"
      ]
    },
    "mtime": 1498109963000
  },
  "{\"filename\":\"/home/app/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "routes/routes",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "routes"
              }
            ]
          },
          {
            "source": "routes/trips",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "trips"
              }
            ]
          },
          {
            "source": "routes/protobuf",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "protobuf"
              }
            ]
          },
          {
            "source": "routes/importGTFS",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "importGTFS"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/index.js",
      "filenameRelative": "/home/app/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _routes = require('./routes/routes');\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _trips = require('./routes/trips');\n\nvar _trips2 = _interopRequireDefault(_trips);\n\nvar _protobuf = require('./routes/protobuf');\n\nvar _protobuf2 = _interopRequireDefault(_protobuf);\n\nvar _importGTFS = require('./routes/importGTFS');\n\nvar _importGTFS2 = _interopRequireDefault(_importGTFS);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = require('./config.json');\n\n_mongoose2.default.Promise = global.Promise;\n_mongoose2.default.connect(config.mongoUrl);\n\nvar app = (0, _express2.default)();\nvar json = require('body-parser').json();\n\napp.use(json);\n\napp.get('/import', _importGTFS2.default);\napp.get('/protobuf', _protobuf2.default);\napp.post('/api/v1/routes', _routes2.default);\napp.post('/api/v1/trips', _trips2.default);\n\napp.listen(3000, function () {\n  console.log('Listening on port 3600!');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsInJlcXVpcmUiLCJQcm9taXNlIiwiZ2xvYmFsIiwiY29ubmVjdCIsIm1vbmdvVXJsIiwiYXBwIiwianNvbiIsInVzZSIsImdldCIsInBvc3QiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7QUFNQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFUQSxJQUFNQSxTQUFTQyxRQUFRLGVBQVIsQ0FBZjs7QUFFQSxtQkFBU0MsT0FBVCxHQUFtQkMsT0FBT0QsT0FBMUI7QUFDQSxtQkFBU0UsT0FBVCxDQUFpQkosT0FBT0ssUUFBeEI7O0FBT0EsSUFBTUMsTUFBTSx3QkFBWjtBQUNBLElBQU1DLE9BQU9OLHVCQUF1Qk0sSUFBdkIsRUFBYjs7QUFFQUQsSUFBSUUsR0FBSixDQUFRRCxJQUFSOztBQUVBRCxJQUFJRyxHQUFKLENBQVEsU0FBUjtBQUNBSCxJQUFJRyxHQUFKLENBQVEsV0FBUjtBQUNBSCxJQUFJSSxJQUFKLENBQVMsZ0JBQVQ7QUFDQUosSUFBSUksSUFBSixDQUFTLGVBQVQ7O0FBRUFKLElBQUlLLE1BQUosQ0FBVyxJQUFYLEVBQWlCLFlBQU07QUFDckJDLFVBQVFDLEdBQVIsQ0FBWSx5QkFBWjtBQUNELENBRkQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGd0ZnMgZnJvbSAnZ3Rmcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanNvbicpO1xuXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5tb25nb1VybCk7XG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHJvdXRlcyBmcm9tICdyb3V0ZXMvcm91dGVzJztcbmltcG9ydCB0cmlwcyBmcm9tICdyb3V0ZXMvdHJpcHMnO1xuaW1wb3J0IHByb3RvYnVmIGZyb20gJ3JvdXRlcy9wcm90b2J1Zic7XG5pbXBvcnQgaW1wb3J0R1RGUyBmcm9tICdyb3V0ZXMvaW1wb3J0R1RGUyc7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBqc29uID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKS5qc29uKCk7XG5cbmFwcC51c2UoanNvbik7XG5cbmFwcC5nZXQoJy9pbXBvcnQnLCBpbXBvcnRHVEZTKTtcbmFwcC5nZXQoJy9wcm90b2J1ZicsIHByb3RvYnVmKTtcbmFwcC5wb3N0KCcvYXBpL3YxL3JvdXRlcycsIHJvdXRlcyk7XG5hcHAucG9zdCgnL2FwaS92MS90cmlwcycsIHRyaXBzKTtcblxuYXBwLmxpc3RlbigzMDAwLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgb24gcG9ydCAzNjAwIScpO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "config",
        "require",
        "Promise",
        "global",
        "connect",
        "mongoUrl",
        "app",
        "json",
        "use",
        "get",
        "post",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;AAMA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AATA,IAAMA,SAASC,QAAQ,eAAR,CAAf;;AAEA,mBAASC,OAAT,GAAmBC,OAAOD,OAA1B;AACA,mBAASE,OAAT,CAAiBJ,OAAOK,QAAxB;;AAOA,IAAMC,MAAM,wBAAZ;AACA,IAAMC,OAAON,uBAAuBM,IAAvB,EAAb;;AAEAD,IAAIE,GAAJ,CAAQD,IAAR;;AAEAD,IAAIG,GAAJ,CAAQ,SAAR;AACAH,IAAIG,GAAJ,CAAQ,WAAR;AACAH,IAAII,IAAJ,CAAS,gBAAT;AACAJ,IAAII,IAAJ,CAAS,eAAT;;AAEAJ,IAAIK,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACrBC,UAAQC,GAAR,CAAY,yBAAZ;AACD,CAFD",
      "file": "index.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nimport mongoose from 'mongoose';\nconst config = require('./config.json');\n\nmongoose.Promise = global.Promise;\nmongoose.connect(config.mongoUrl);\n\nimport express from 'express';\nimport routes from 'routes/routes';\nimport trips from 'routes/trips';\nimport protobuf from 'routes/protobuf';\nimport importGTFS from 'routes/importGTFS';\nconst app = express();\nconst json = require('body-parser').json();\n\napp.use(json);\n\napp.get('/import', importGTFS);\napp.get('/protobuf', protobuf);\napp.post('/api/v1/routes', routes);\napp.post('/api/v1/trips', trips);\n\napp.listen(3000, () => {\n  console.log('Listening on port 3600!');\n});\n"
      ]
    },
    "mtime": 1517270326000
  },
  "{\"filename\":\"/home/app/routes/routes.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "slicedToArray",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/routes.js",
      "filenameRelative": "/home/app/routes/routes.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "routes.js",
      "sourceFileName": "routes.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "routes"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    var _ref2, _ref3, routes, stops, stopsJSON;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Promise.all([_gtfs2.default.getRoutesByAgency('miami'), _gtfs2.default.getStops('miami'), _gtfs2.default.getStopsAsGeoJSON('miami')]);\n\n          case 2:\n            _ref2 = _context.sent;\n            _ref3 = _slicedToArray(_ref2, 3);\n            routes = _ref3[0];\n            stops = _ref3[1];\n            stopsJSON = _ref3[2];\n\n            res.send({\n              success: true,\n              routes: routes,\n              stops: stops,\n              stopsJSON: stopsJSON\n            });\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function routes(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return routes;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyZXEiLCJyZXMiLCJQcm9taXNlIiwiYWxsIiwiZ2V0Um91dGVzQnlBZ2VuY3kiLCJnZXRTdG9wcyIsImdldFN0b3BzQXNHZW9KU09OIiwicm91dGVzIiwic3RvcHMiLCJzdG9wc0pTT04iLCJzZW5kIiwic3VjY2VzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7O3VEQUVlLGlCQUFzQkEsR0FBdEIsRUFBMkJDLEdBQTNCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUM0QkMsUUFBUUMsR0FBUixDQUFZLENBQ25ELGVBQUtDLGlCQUFMLENBQXVCLE9BQXZCLENBRG1ELEVBRW5ELGVBQUtDLFFBQUwsQ0FBYyxPQUFkLENBRm1ELEVBR25ELGVBQUtDLGlCQUFMLENBQXVCLE9BQXZCLENBSG1ELENBQVosQ0FENUI7O0FBQUE7QUFBQTtBQUFBO0FBQ05DLGtCQURNO0FBQ0VDLGlCQURGO0FBQ1NDLHFCQURUOztBQU1iUixnQkFBSVMsSUFBSixDQUFTO0FBQ1BDLHVCQUFTLElBREY7QUFFUEosNEJBRk87QUFHUEMsMEJBSE87QUFJUEM7QUFKTyxhQUFUOztBQU5hO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEc7O1dBQWVGLE07Ozs7U0FBQUEsTSIsImZpbGUiOiJyb3V0ZXMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBndGZzIGZyb20gJ2d0ZnMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiByb3V0ZXMocmVxLCByZXMpIHtcbiAgY29uc3QgW3JvdXRlcywgc3RvcHMsIHN0b3BzSlNPTl0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgZ3Rmcy5nZXRSb3V0ZXNCeUFnZW5jeSgnbWlhbWknKSxcbiAgICBndGZzLmdldFN0b3BzKCdtaWFtaScpLFxuICAgIGd0ZnMuZ2V0U3RvcHNBc0dlb0pTT04oJ21pYW1pJyksXG4gIF0pO1xuICByZXMuc2VuZCh7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICByb3V0ZXMsXG4gICAgc3RvcHMsXG4gICAgc3RvcHNKU09OLFxuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "req",
        "res",
        "Promise",
        "all",
        "getRoutesByAgency",
        "getStops",
        "getStopsAsGeoJSON",
        "routes",
        "stops",
        "stopsJSON",
        "send",
        "success"
      ],
      "mappings": ";;;;;;;;AAAA;;;;;;;;;uDAEe,iBAAsBA,GAAtB,EAA2BC,GAA3B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC4BC,QAAQC,GAAR,CAAY,CACnD,eAAKC,iBAAL,CAAuB,OAAvB,CADmD,EAEnD,eAAKC,QAAL,CAAc,OAAd,CAFmD,EAGnD,eAAKC,iBAAL,CAAuB,OAAvB,CAHmD,CAAZ,CAD5B;;AAAA;AAAA;AAAA;AACNC,kBADM;AACEC,iBADF;AACSC,qBADT;;AAMbR,gBAAIS,IAAJ,CAAS;AACPC,uBAAS,IADF;AAEPJ,4BAFO;AAGPC,0BAHO;AAIPC;AAJO,aAAT;;AANa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeF,M;;;;SAAAA,M",
      "file": "routes.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\n\nexport default async function routes(req, res) {\n  const [routes, stops, stopsJSON] = await Promise.all([\n    gtfs.getRoutesByAgency('miami'),\n    gtfs.getStops('miami'),\n    gtfs.getStopsAsGeoJSON('miami'),\n  ]);\n  res.send({\n    success: true,\n    routes,\n    stops,\n    stopsJSON,\n  });\n}\n"
      ]
    },
    "mtime": 1517270326000
  },
  "{\"filename\":\"/home/app/routes/trips.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/trips.js",
      "filenameRelative": "/home/app/routes/trips.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "trips.js",
      "sourceFileName": "trips.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "trips"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    var routeId, all, routes, stops;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            routeId = req.body.routeId;\n            _context.next = 3;\n            return _gtfs2.default.getDirectionsByRoute('miami', routeId);\n\n          case 3:\n            all = _context.sent;\n            routes = (0, _lodash2.default)(all).groupBy('route_id').mapValues(function (group) {\n              return (0, _lodash2.default)(group).map(function (trip) {\n                return trip.direction_id;\n              }).uniq().value();\n            }).value();\n            _context.next = 7;\n            return Promise.all((0, _lodash2.default)(routes).map(function (directions, route) {\n              return Promise.all(directions.map(function (direction) {\n                return _gtfs2.default.getStopsByRoute('miami', route, direction);\n              }));\n            }).value());\n\n          case 7:\n            stops = _context.sent;\n\n            res.send({\n              success: true,\n              stops: stops\n            });\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  function trips(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return trips;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyaXBzLmpzIl0sIm5hbWVzIjpbInJlcSIsInJlcyIsInJvdXRlSWQiLCJib2R5IiwiZ2V0RGlyZWN0aW9uc0J5Um91dGUiLCJhbGwiLCJyb3V0ZXMiLCJncm91cEJ5IiwibWFwVmFsdWVzIiwiZ3JvdXAiLCJtYXAiLCJ0cmlwIiwiZGlyZWN0aW9uX2lkIiwidW5pcSIsInZhbHVlIiwiUHJvbWlzZSIsImRpcmVjdGlvbnMiLCJyb3V0ZSIsImdldFN0b3BzQnlSb3V0ZSIsImRpcmVjdGlvbiIsInN0b3BzIiwic2VuZCIsInN1Y2Nlc3MiLCJ0cmlwcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7Ozs7O3VEQUVlLGlCQUFxQkEsR0FBckIsRUFBMEJDLEdBQTFCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNQQyxtQkFETyxHQUNHRixJQUFJRyxJQUFKLENBQVNELE9BRFo7QUFBQTtBQUFBLG1CQUVLLGVBQUtFLG9CQUFMLENBQTBCLE9BQTFCLEVBQW1DRixPQUFuQyxDQUZMOztBQUFBO0FBRVBHLGVBRk87QUFHUEMsa0JBSE8sR0FHRSxzQkFBRUQsR0FBRixFQUNaRSxPQURZLENBQ0osVUFESSxFQUVaQyxTQUZZLENBRUYsaUJBQVM7QUFDbEIscUJBQU8sc0JBQUVDLEtBQUYsRUFBU0MsR0FBVCxDQUFhO0FBQUEsdUJBQVFDLEtBQUtDLFlBQWI7QUFBQSxlQUFiLEVBQXdDQyxJQUF4QyxHQUErQ0MsS0FBL0MsRUFBUDtBQUNELGFBSlksRUFLWkEsS0FMWSxFQUhGO0FBQUE7QUFBQSxtQkFTT0MsUUFBUVYsR0FBUixDQUNsQixzQkFBRUMsTUFBRixFQUNHSSxHQURILENBQ08sVUFBQ00sVUFBRCxFQUFhQyxLQUFiLEVBQXVCO0FBQzFCLHFCQUFPRixRQUFRVixHQUFSLENBQ0xXLFdBQVdOLEdBQVgsQ0FBZSxxQkFBYTtBQUMxQix1QkFBTyxlQUFLUSxlQUFMLENBQXFCLE9BQXJCLEVBQThCRCxLQUE5QixFQUFxQ0UsU0FBckMsQ0FBUDtBQUNELGVBRkQsQ0FESyxDQUFQO0FBS0QsYUFQSCxFQVFHTCxLQVJILEVBRGtCLENBVFA7O0FBQUE7QUFTUE0saUJBVE87O0FBb0JibkIsZ0JBQUlvQixJQUFKLENBQVM7QUFDUEMsdUJBQVMsSUFERjtBQUVQRjtBQUZPLGFBQVQ7O0FBcEJhO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEc7O1dBQWVHLEs7Ozs7U0FBQUEsSyIsImZpbGUiOiJ0cmlwcy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHAvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGd0ZnMgZnJvbSAnZ3Rmcyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiB0cmlwcyhyZXEsIHJlcykge1xuICBjb25zdCByb3V0ZUlkID0gcmVxLmJvZHkucm91dGVJZDtcbiAgY29uc3QgYWxsID0gYXdhaXQgZ3Rmcy5nZXREaXJlY3Rpb25zQnlSb3V0ZSgnbWlhbWknLCByb3V0ZUlkKTtcbiAgY29uc3Qgcm91dGVzID0gXyhhbGwpXG4gICAgLmdyb3VwQnkoJ3JvdXRlX2lkJylcbiAgICAubWFwVmFsdWVzKGdyb3VwID0+IHtcbiAgICAgIHJldHVybiBfKGdyb3VwKS5tYXAodHJpcCA9PiB0cmlwLmRpcmVjdGlvbl9pZCkudW5pcSgpLnZhbHVlKCk7XG4gICAgfSlcbiAgICAudmFsdWUoKTtcbiAgY29uc3Qgc3RvcHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBfKHJvdXRlcylcbiAgICAgIC5tYXAoKGRpcmVjdGlvbnMsIHJvdXRlKSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgICBkaXJlY3Rpb25zLm1hcChkaXJlY3Rpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGd0ZnMuZ2V0U3RvcHNCeVJvdXRlKCdtaWFtaScsIHJvdXRlLCBkaXJlY3Rpb24pO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLnZhbHVlKClcbiAgKTtcbiAgcmVzLnNlbmQoe1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgc3RvcHMsXG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "trips.js"
      ],
      "names": [
        "req",
        "res",
        "routeId",
        "body",
        "getDirectionsByRoute",
        "all",
        "routes",
        "groupBy",
        "mapValues",
        "group",
        "map",
        "trip",
        "direction_id",
        "uniq",
        "value",
        "Promise",
        "directions",
        "route",
        "getStopsByRoute",
        "direction",
        "stops",
        "send",
        "success",
        "trips"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;;;;uDAEe,iBAAqBA,GAArB,EAA0BC,GAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,mBADO,GACGF,IAAIG,IAAJ,CAASD,OADZ;AAAA;AAAA,mBAEK,eAAKE,oBAAL,CAA0B,OAA1B,EAAmCF,OAAnC,CAFL;;AAAA;AAEPG,eAFO;AAGPC,kBAHO,GAGE,sBAAED,GAAF,EACZE,OADY,CACJ,UADI,EAEZC,SAFY,CAEF,iBAAS;AAClB,qBAAO,sBAAEC,KAAF,EAASC,GAAT,CAAa;AAAA,uBAAQC,KAAKC,YAAb;AAAA,eAAb,EAAwCC,IAAxC,GAA+CC,KAA/C,EAAP;AACD,aAJY,EAKZA,KALY,EAHF;AAAA;AAAA,mBASOC,QAAQV,GAAR,CAClB,sBAAEC,MAAF,EACGI,GADH,CACO,UAACM,UAAD,EAAaC,KAAb,EAAuB;AAC1B,qBAAOF,QAAQV,GAAR,CACLW,WAAWN,GAAX,CAAe,qBAAa;AAC1B,uBAAO,eAAKQ,eAAL,CAAqB,OAArB,EAA8BD,KAA9B,EAAqCE,SAArC,CAAP;AACD,eAFD,CADK,CAAP;AAKD,aAPH,EAQGL,KARH,EADkB,CATP;;AAAA;AASPM,iBATO;;AAoBbnB,gBAAIoB,IAAJ,CAAS;AACPC,uBAAS,IADF;AAEPF;AAFO,aAAT;;AApBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeG,K;;;;SAAAA,K",
      "file": "trips.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nimport _ from 'lodash';\n\nexport default async function trips(req, res) {\n  const routeId = req.body.routeId;\n  const all = await gtfs.getDirectionsByRoute('miami', routeId);\n  const routes = _(all)\n    .groupBy('route_id')\n    .mapValues(group => {\n      return _(group).map(trip => trip.direction_id).uniq().value();\n    })\n    .value();\n  const stops = await Promise.all(\n    _(routes)\n      .map((directions, route) => {\n        return Promise.all(\n          directions.map(direction => {\n            return gtfs.getStopsByRoute('miami', route, direction);\n          })\n        );\n      })\n      .value()\n  );\n  res.send({\n    success: true,\n    stops,\n  });\n}\n"
      ]
    },
    "mtime": 1517270326000
  },
  "{\"filename\":\"/home/app/routes/protobuf.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lib/gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/protobuf.js",
      "filenameRelative": "/home/app/routes/protobuf.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "protobuf.js",
      "sourceFileName": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "protobuf"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('../lib/gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    var buffer;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return (0, _gtfs2.default)('http://transit.tsomobile.com/miami/RealTimeFeed-miami');\n\n          case 3:\n            buffer = _context.sent;\n\n            res.send(buffer);\n            _context.next = 11;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](0);\n\n            console.log(_context.t0);\n            res.send('Epic Fail');\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 7]]);\n  }));\n\n  function protobuf(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return protobuf;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3RvYnVmLmpzIl0sIm5hbWVzIjpbInJlcSIsInJlcyIsImJ1ZmZlciIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwicHJvdG9idWYiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7dURBRWUsaUJBQXdCQSxHQUF4QixFQUE2QkMsR0FBN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUVVLG9CQUNuQix1REFEbUIsQ0FGVjs7QUFBQTtBQUVMQyxrQkFGSzs7QUFLWEQsZ0JBQUlFLElBQUosQ0FBU0QsTUFBVDtBQUxXO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQU9YRSxvQkFBUUMsR0FBUjtBQUNBSixnQkFBSUUsSUFBSixDQUFTLFdBQVQ7O0FBUlc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRzs7V0FBZUcsUTs7OztTQUFBQSxRIiwiZmlsZSI6InByb3RvYnVmLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcC9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ3RmcyBmcm9tICdsaWIvZ3Rmcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHByb3RvYnVmKHJlcSwgcmVzKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgZ3RmcyhcbiAgICAgICdodHRwOi8vdHJhbnNpdC50c29tb2JpbGUuY29tL21pYW1pL1JlYWxUaW1lRmVlZC1taWFtaSdcbiAgICApO1xuICAgIHJlcy5zZW5kKGJ1ZmZlcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJlcy5zZW5kKCdFcGljIEZhaWwnKTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "protobuf.js"
      ],
      "names": [
        "req",
        "res",
        "buffer",
        "send",
        "console",
        "log",
        "protobuf"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;;uDAEe,iBAAwBA,GAAxB,EAA6BC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEU,oBACnB,uDADmB,CAFV;;AAAA;AAELC,kBAFK;;AAKXD,gBAAIE,IAAJ,CAASD,MAAT;AALW;AAAA;;AAAA;AAAA;AAAA;;AAOXE,oBAAQC,GAAR;AACAJ,gBAAIE,IAAJ,CAAS,WAAT;;AARW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeG,Q;;;;SAAAA,Q",
      "file": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'lib/gtfs';\n\nexport default async function protobuf(req, res) {\n  try {\n    const buffer = await gtfs(\n      'http://transit.tsomobile.com/miami/RealTimeFeed-miami'\n    );\n    res.send(buffer);\n  } catch (error) {\n    console.log(error);\n    res.send('Epic Fail');\n  }\n}\n"
      ]
    },
    "mtime": 1517270326000
  },
  "{\"filename\":\"/home/app/lib/gtfs/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/lib/gtfs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "protobufjs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ProtoBuf"
              }
            ]
          },
          {
            "source": "request",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "gtfs",
            "url"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "gtfs",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "url",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/app/lib/gtfs/index.js",
      "filenameRelative": "/home/app/lib/gtfs/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/lib/gtfs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = gtfs;\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _protobufjs = require('protobufjs');\n\nvar _protobufjs2 = _interopRequireDefault(_protobufjs);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction decode(feedBuffer) {\n  var builder = _protobufjs2.default.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  var transit = builder.build('transit_realtime');\n  var result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise(function (resolve, reject) {\n    (0, _request2.default)(options, function (err, res, body) {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nfunction gtfs(url) {\n  var options = {\n    url: url,\n    method: 'get',\n    encoding: null\n  };\n\n  return loadGTFSRealtimeFeed(options).then(function (feedBuffer) {\n    var result = decode(feedBuffer);\n    return result;\n  }).catch(function (err) {\n    return err;\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImd0ZnMiLCJkZWNvZGUiLCJmZWVkQnVmZmVyIiwiYnVpbGRlciIsImxvYWRQcm90b0ZpbGUiLCJ0cmFuc2l0IiwiYnVpbGQiLCJyZXN1bHQiLCJGZWVkTWVzc2FnZSIsImxvYWRHVEZTUmVhbHRpbWVGZWVkIiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwicmVzIiwiYm9keSIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1c0NvZGUiLCJ1cmwiLCJtZXRob2QiLCJlbmNvZGluZyIsInRoZW4iLCJjYXRjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBMkJ3QkEsSTs7QUEzQnhCOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0MsTUFBVCxDQUFnQkMsVUFBaEIsRUFBNEI7QUFDMUIsTUFBTUMsVUFBVSxxQkFBU0MsYUFBVCxDQUF1Qiw4QkFBdkIsQ0FBaEI7QUFDQSxNQUFNQyxVQUFVRixRQUFRRyxLQUFSLENBQWMsa0JBQWQsQ0FBaEI7QUFDQSxNQUFNQyxTQUFTRixRQUFRRyxXQUFSLENBQW9CUCxNQUFwQixDQUEyQkMsVUFBM0IsQ0FBZjtBQUNBLFNBQU9LLE1BQVA7QUFDRDs7QUFFRCxTQUFTRSxvQkFBVCxDQUE4QkMsT0FBOUIsRUFBdUM7QUFDckMsU0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQ3RDLDJCQUFRSCxPQUFSLEVBQWlCLFVBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ25DLFVBQUlGLEdBQUosRUFBUztBQUNQRyxnQkFBUUMsS0FBUixDQUFjSixHQUFkLEVBQW1CRSxJQUFuQjtBQUNBSCxlQUFPQyxHQUFQO0FBQ0Q7QUFDRCxVQUFJQyxJQUFJSSxVQUFKLEtBQW1CLEdBQXZCLEVBQTRCO0FBQzFCRixnQkFBUUMsS0FBUixDQUFjRixJQUFkO0FBQ0FILGVBQU9HLElBQVA7QUFDRDtBQUNESixjQUFRSSxJQUFSO0FBQ0QsS0FWRDtBQVdELEdBWk0sQ0FBUDtBQWFEOztBQUVjLFNBQVNoQixJQUFULENBQWNvQixHQUFkLEVBQW1CO0FBQ2hDLE1BQU1WLFVBQVU7QUFDZFUsU0FBS0EsR0FEUztBQUVkQyxZQUFRLEtBRk07QUFHZEMsY0FBVTtBQUhJLEdBQWhCOztBQU1BLFNBQU9iLHFCQUFxQkMsT0FBckIsRUFDSmEsSUFESSxDQUNDLHNCQUFjO0FBQ2xCLFFBQU1oQixTQUFTTixPQUFPQyxVQUFQLENBQWY7QUFDQSxXQUFPSyxNQUFQO0FBQ0QsR0FKSSxFQUtKaUIsS0FMSSxDQUtFLGVBQU87QUFDWixXQUFPVixHQUFQO0FBQ0QsR0FQSSxDQUFQO0FBUUQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL2xpYi9ndGZzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgUHJvdG9CdWYgZnJvbSAncHJvdG9idWZqcyc7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICdyZXF1ZXN0JztcblxuZnVuY3Rpb24gZGVjb2RlKGZlZWRCdWZmZXIpIHtcbiAgY29uc3QgYnVpbGRlciA9IFByb3RvQnVmLmxvYWRQcm90b0ZpbGUoJ2xpYi9ndGZzL2d0ZnMtcmVhbHRpbWUucHJvdG8nKTtcbiAgY29uc3QgdHJhbnNpdCA9IGJ1aWxkZXIuYnVpbGQoJ3RyYW5zaXRfcmVhbHRpbWUnKTtcbiAgY29uc3QgcmVzdWx0ID0gdHJhbnNpdC5GZWVkTWVzc2FnZS5kZWNvZGUoZmVlZEJ1ZmZlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGxvYWRHVEZTUmVhbHRpbWVGZWVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0KG9wdGlvbnMsIChlcnIsIHJlcywgYm9keSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVyciwgYm9keSk7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihib2R5KTtcbiAgICAgICAgcmVqZWN0KGJvZHkpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShib2R5KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGd0ZnModXJsKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdXJsOiB1cmwsXG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICBlbmNvZGluZzogbnVsbCxcbiAgfTtcblxuICByZXR1cm4gbG9hZEdURlNSZWFsdGltZUZlZWQob3B0aW9ucylcbiAgICAudGhlbihmZWVkQnVmZmVyID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGRlY29kZShmZWVkQnVmZmVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "gtfs",
        "decode",
        "feedBuffer",
        "builder",
        "loadProtoFile",
        "transit",
        "build",
        "result",
        "FeedMessage",
        "loadGTFSRealtimeFeed",
        "options",
        "Promise",
        "resolve",
        "reject",
        "err",
        "res",
        "body",
        "console",
        "error",
        "statusCode",
        "url",
        "method",
        "encoding",
        "then",
        "catch"
      ],
      "mappings": ";;;;;kBA2BwBA,I;;AA3BxB;;;;AACA;;;;AACA;;;;;;AAEA,SAASC,MAAT,CAAgBC,UAAhB,EAA4B;AAC1B,MAAMC,UAAU,qBAASC,aAAT,CAAuB,8BAAvB,CAAhB;AACA,MAAMC,UAAUF,QAAQG,KAAR,CAAc,kBAAd,CAAhB;AACA,MAAMC,SAASF,QAAQG,WAAR,CAAoBP,MAApB,CAA2BC,UAA3B,CAAf;AACA,SAAOK,MAAP;AACD;;AAED,SAASE,oBAAT,CAA8BC,OAA9B,EAAuC;AACrC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,2BAAQH,OAAR,EAAiB,UAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnC,UAAIF,GAAJ,EAAS;AACPG,gBAAQC,KAAR,CAAcJ,GAAd,EAAmBE,IAAnB;AACAH,eAAOC,GAAP;AACD;AACD,UAAIC,IAAII,UAAJ,KAAmB,GAAvB,EAA4B;AAC1BF,gBAAQC,KAAR,CAAcF,IAAd;AACAH,eAAOG,IAAP;AACD;AACDJ,cAAQI,IAAR;AACD,KAVD;AAWD,GAZM,CAAP;AAaD;;AAEc,SAAShB,IAAT,CAAcoB,GAAd,EAAmB;AAChC,MAAMV,UAAU;AACdU,SAAKA,GADS;AAEdC,YAAQ,KAFM;AAGdC,cAAU;AAHI,GAAhB;;AAMA,SAAOb,qBAAqBC,OAArB,EACJa,IADI,CACC,sBAAc;AAClB,QAAMhB,SAASN,OAAOC,UAAP,CAAf;AACA,WAAOK,MAAP;AACD,GAJI,EAKJiB,KALI,CAKE,eAAO;AACZ,WAAOV,GAAP;AACD,GAPI,CAAP;AAQD",
      "file": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "sourcesContent": [
        "import path from 'path';\nimport ProtoBuf from 'protobufjs';\nimport request from 'request';\n\nfunction decode(feedBuffer) {\n  const builder = ProtoBuf.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  const transit = builder.build('transit_realtime');\n  const result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise((resolve, reject) => {\n    request(options, (err, res, body) => {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nexport default function gtfs(url) {\n  const options = {\n    url: url,\n    method: 'get',\n    encoding: null,\n  };\n\n  return loadGTFSRealtimeFeed(options)\n    .then(feedBuffer => {\n      const result = decode(feedBuffer);\n      return result;\n    })\n    .catch(err => {\n      return err;\n    });\n}\n"
      ]
    },
    "mtime": 1517270326000
  },
  "{\"filename\":\"/home/app/routes/importGTFS.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],{\"root\":[\"./\"]}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/importGTFS.js",
      "filenameRelative": "/home/app/routes/importGTFS.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "importGTFS.js",
      "sourceFileName": "importGTFS.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "importGTFS"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar config = require('../config.json');\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            res.send('Starting import!');\n            _context.prev = 1;\n            _context.next = 4;\n            return _gtfs2.default.import(config);\n\n          case 4:\n            console.log('Successfully imported!');\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](1);\n\n            console.log(_context.t0);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 7]]);\n  }));\n\n  function importGTFS(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return importGTFS;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltcG9ydEdURlMuanMiXSwibmFtZXMiOlsiY29uZmlnIiwicmVxdWlyZSIsInJlcSIsInJlcyIsInNlbmQiLCJpbXBvcnQiLCJjb25zb2xlIiwibG9nIiwiaW1wb3J0R1RGUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7Ozs7O0FBQ0EsSUFBTUEsU0FBU0MsUUFBUSxnQkFBUixDQUFmOzs7dURBRWUsaUJBQTBCQyxHQUExQixFQUErQkMsR0FBL0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNiQSxnQkFBSUMsSUFBSixDQUFTLGtCQUFUO0FBRGE7QUFBQTtBQUFBLG1CQUdMLGVBQUtDLE1BQUwsQ0FBWUwsTUFBWixDQUhLOztBQUFBO0FBSVhNLG9CQUFRQyxHQUFSLENBQVksd0JBQVo7QUFKVztBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFNWEQsb0JBQVFDLEdBQVI7O0FBTlc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRzs7V0FBZUMsVTs7OztTQUFBQSxVIiwiZmlsZSI6ImltcG9ydEdURlMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBndGZzIGZyb20gJ2d0ZnMnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi4vY29uZmlnLmpzb24nKTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0R1RGUyhyZXEsIHJlcykge1xuICByZXMuc2VuZCgnU3RhcnRpbmcgaW1wb3J0IScpO1xuICB0cnkge1xuICAgIGF3YWl0IGd0ZnMuaW1wb3J0KGNvbmZpZyk7XG4gICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBpbXBvcnRlZCEnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "importGTFS.js"
      ],
      "names": [
        "config",
        "require",
        "req",
        "res",
        "send",
        "import",
        "console",
        "log",
        "importGTFS"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;AACA,IAAMA,SAASC,QAAQ,gBAAR,CAAf;;;uDAEe,iBAA0BC,GAA1B,EAA+BC,GAA/B;AAAA;AAAA;AAAA;AAAA;AACbA,gBAAIC,IAAJ,CAAS,kBAAT;AADa;AAAA;AAAA,mBAGL,eAAKC,MAAL,CAAYL,MAAZ,CAHK;;AAAA;AAIXM,oBAAQC,GAAR,CAAY,wBAAZ;AAJW;AAAA;;AAAA;AAAA;AAAA;;AAMXD,oBAAQC,GAAR;;AANW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeC,U;;;;SAAAA,U",
      "file": "importGTFS.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nconst config = require('../config.json');\n\nexport default async function importGTFS(req, res) {\n  res.send('Starting import!');\n  try {\n    await gtfs.import(config);\n    console.log('Successfully imported!');\n  } catch (err) {\n    console.log(err);\n  }\n}\n"
      ]
    },
    "mtime": 1517270326000
  },
  "{\"filename\":\"/home/app/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"root\":[\"./\"]}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "routes/routes",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "routes"
              }
            ]
          },
          {
            "source": "routes/trips",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "trips"
              }
            ]
          },
          {
            "source": "routes/protobuf",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "protobuf"
              }
            ]
          },
          {
            "source": "routes/importGTFS",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "importGTFS"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/index.js",
      "filenameRelative": "/home/app/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _routes = require('./routes/routes');\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _trips = require('./routes/trips');\n\nvar _trips2 = _interopRequireDefault(_trips);\n\nvar _protobuf = require('./routes/protobuf');\n\nvar _protobuf2 = _interopRequireDefault(_protobuf);\n\nvar _importGTFS = require('./routes/importGTFS');\n\nvar _importGTFS2 = _interopRequireDefault(_importGTFS);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst config = require('./config.json');\n\n_mongoose2.default.Promise = global.Promise;\n_mongoose2.default.connect(config.mongoUrl);\n\nconst app = (0, _express2.default)();\nconst json = require('body-parser').json();\n\napp.use(json);\n\napp.get('/import', _importGTFS2.default);\napp.get('/api/protobuf', _protobuf2.default);\napp.post('/api/v1/routes', _routes2.default);\napp.post('/api/v1/trips', _trips2.default);\n\napp.listen(3000, () => {\n  console.log('Listening on port 3600!');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsInJlcXVpcmUiLCJQcm9taXNlIiwiZ2xvYmFsIiwiY29ubmVjdCIsIm1vbmdvVXJsIiwiYXBwIiwianNvbiIsInVzZSIsImdldCIsInBvc3QiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7QUFNQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFUQSxNQUFNQSxTQUFTQyxRQUFRLGVBQVIsQ0FBZjs7QUFFQSxtQkFBU0MsT0FBVCxHQUFtQkMsT0FBT0QsT0FBMUI7QUFDQSxtQkFBU0UsT0FBVCxDQUFpQkosT0FBT0ssUUFBeEI7O0FBUUEsTUFBTUMsTUFBTSx3QkFBWjtBQUNBLE1BQU1DLE9BQU9OLHVCQUF1Qk0sSUFBdkIsRUFBYjs7QUFFQUQsSUFBSUUsR0FBSixDQUFRRCxJQUFSOztBQUVBRCxJQUFJRyxHQUFKLENBQVEsU0FBUjtBQUNBSCxJQUFJRyxHQUFKLENBQVEsZUFBUjtBQUNBSCxJQUFJSSxJQUFKLENBQVMsZ0JBQVQ7QUFDQUosSUFBSUksSUFBSixDQUFTLGVBQVQ7O0FBRUFKLElBQUlLLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQU07QUFDckJDLFVBQVFDLEdBQVIsQ0FBWSx5QkFBWjtBQUNELENBRkQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGd0ZnMgZnJvbSAnZ3Rmcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanNvbicpO1xuXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5tb25nb1VybCk7XG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHJvdXRlcyBmcm9tICdyb3V0ZXMvcm91dGVzJztcbmltcG9ydCB0cmlwcyBmcm9tICdyb3V0ZXMvdHJpcHMnO1xuaW1wb3J0IHByb3RvYnVmIGZyb20gJ3JvdXRlcy9wcm90b2J1Zic7XG5pbXBvcnQgaW1wb3J0R1RGUyBmcm9tICdyb3V0ZXMvaW1wb3J0R1RGUyc7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IGpzb24gPSByZXF1aXJlKCdib2R5LXBhcnNlcicpLmpzb24oKTtcblxuYXBwLnVzZShqc29uKTtcblxuYXBwLmdldCgnL2ltcG9ydCcsIGltcG9ydEdURlMpO1xuYXBwLmdldCgnL2FwaS9wcm90b2J1ZicsIHByb3RvYnVmKTtcbmFwcC5wb3N0KCcvYXBpL3YxL3JvdXRlcycsIHJvdXRlcyk7XG5hcHAucG9zdCgnL2FwaS92MS90cmlwcycsIHRyaXBzKTtcblxuYXBwLmxpc3RlbigzMDAwLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgb24gcG9ydCAzNjAwIScpO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "config",
        "require",
        "Promise",
        "global",
        "connect",
        "mongoUrl",
        "app",
        "json",
        "use",
        "get",
        "post",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;AAMA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AATA,MAAMA,SAASC,QAAQ,eAAR,CAAf;;AAEA,mBAASC,OAAT,GAAmBC,OAAOD,OAA1B;AACA,mBAASE,OAAT,CAAiBJ,OAAOK,QAAxB;;AAQA,MAAMC,MAAM,wBAAZ;AACA,MAAMC,OAAON,uBAAuBM,IAAvB,EAAb;;AAEAD,IAAIE,GAAJ,CAAQD,IAAR;;AAEAD,IAAIG,GAAJ,CAAQ,SAAR;AACAH,IAAIG,GAAJ,CAAQ,eAAR;AACAH,IAAII,IAAJ,CAAS,gBAAT;AACAJ,IAAII,IAAJ,CAAS,eAAT;;AAEAJ,IAAIK,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBC,UAAQC,GAAR,CAAY,yBAAZ;AACD,CAFD",
      "file": "index.js",
      "sourceRoot": "/home/app",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nimport mongoose from 'mongoose';\nconst config = require('./config.json');\n\nmongoose.Promise = global.Promise;\nmongoose.connect(config.mongoUrl);\n\nimport express from 'express';\nimport routes from 'routes/routes';\nimport trips from 'routes/trips';\nimport protobuf from 'routes/protobuf';\nimport importGTFS from 'routes/importGTFS';\n\nconst app = express();\nconst json = require('body-parser').json();\n\napp.use(json);\n\napp.get('/import', importGTFS);\napp.get('/api/protobuf', protobuf);\napp.post('/api/v1/routes', routes);\napp.post('/api/v1/trips', trips);\n\napp.listen(3000, () => {\n  console.log('Listening on port 3600!');\n});\n"
      ]
    },
    "mtime": 1518213029000
  },
  "{\"filename\":\"/home/app/routes/routes.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"root\":[\"./\"]}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/routes.js",
      "filenameRelative": "/home/app/routes/routes.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "routes.js",
      "sourceFileName": "routes.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "routes"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = (() => {\n  var _ref = _asyncToGenerator(function* (req, res) {\n    const routes = yield _gtfs2.default.getRoutesByAgency('miami');\n    res.send({\n      routes\n    });\n  });\n\n  function routes(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return routes;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJyZXEiLCJyZXMiLCJyb3V0ZXMiLCJnZXRSb3V0ZXNCeUFnZW5jeSIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7K0JBRWUsV0FBc0JBLEdBQXRCLEVBQTJCQyxHQUEzQixFQUFnQztBQUM3QyxVQUFNQyxTQUFTLE1BQU0sZUFBS0MsaUJBQUwsQ0FBdUIsT0FBdkIsQ0FBckI7QUFDQUYsUUFBSUcsSUFBSixDQUFTO0FBQ1BGO0FBRE8sS0FBVDtBQUdELEc7O1dBTDZCQSxNOzs7O1NBQUFBLE0iLCJmaWxlIjoicm91dGVzLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FwcC9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ3RmcyBmcm9tICdndGZzJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcm91dGVzKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHJvdXRlcyA9IGF3YWl0IGd0ZnMuZ2V0Um91dGVzQnlBZ2VuY3koJ21pYW1pJyk7XG4gIHJlcy5zZW5kKHtcbiAgICByb3V0ZXNcbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "req",
        "res",
        "routes",
        "getRoutesByAgency",
        "send"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;;+BAEe,WAAsBA,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C,UAAMC,SAAS,MAAM,eAAKC,iBAAL,CAAuB,OAAvB,CAArB;AACAF,QAAIG,IAAJ,CAAS;AACPF;AADO,KAAT;AAGD,G;;WAL6BA,M;;;;SAAAA,M",
      "file": "routes.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\n\nexport default async function routes(req, res) {\n  const routes = await gtfs.getRoutesByAgency('miami');\n  res.send({\n    routes\n  });\n}\n"
      ]
    },
    "mtime": 1517286012000
  },
  "{\"filename\":\"/home/app/routes/trips.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"root\":[\"./\"]}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/trips.js",
      "filenameRelative": "/home/app/routes/trips.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "trips.js",
      "sourceFileName": "trips.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "trips"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = (() => {\n  var _ref = _asyncToGenerator(function* (req, res) {\n    const routeId = req.body.routeId;\n    const all = yield _gtfs2.default.getDirectionsByRoute('miami', routeId);\n    const routes = (0, _lodash2.default)(all).groupBy('route_id').mapValues(function (group) {\n      return (0, _lodash2.default)(group).map(function (trip) {\n        return trip.direction_id;\n      }).uniq().value();\n    }).value();\n    const stops = yield Promise.all((0, _lodash2.default)(routes).map(function (directions, route) {\n      return Promise.all(directions.map(function (direction) {\n        return _gtfs2.default.getStopsByRoute('miami', route, direction);\n      }));\n    }).value());\n    res.send({\n      success: true,\n      stops\n    });\n  });\n\n  function trips(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return trips;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyaXBzLmpzIl0sIm5hbWVzIjpbInJlcSIsInJlcyIsInJvdXRlSWQiLCJib2R5IiwiYWxsIiwiZ2V0RGlyZWN0aW9uc0J5Um91dGUiLCJyb3V0ZXMiLCJncm91cEJ5IiwibWFwVmFsdWVzIiwiZ3JvdXAiLCJtYXAiLCJ0cmlwIiwiZGlyZWN0aW9uX2lkIiwidW5pcSIsInZhbHVlIiwic3RvcHMiLCJQcm9taXNlIiwiZGlyZWN0aW9ucyIsInJvdXRlIiwiZ2V0U3RvcHNCeVJvdXRlIiwiZGlyZWN0aW9uIiwic2VuZCIsInN1Y2Nlc3MiLCJ0cmlwcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7Ozs7OytCQUVlLFdBQXFCQSxHQUFyQixFQUEwQkMsR0FBMUIsRUFBK0I7QUFDNUMsVUFBTUMsVUFBVUYsSUFBSUcsSUFBSixDQUFTRCxPQUF6QjtBQUNBLFVBQU1FLE1BQU0sTUFBTSxlQUFLQyxvQkFBTCxDQUEwQixPQUExQixFQUFtQ0gsT0FBbkMsQ0FBbEI7QUFDQSxVQUFNSSxTQUFTLHNCQUFFRixHQUFGLEVBQ1pHLE9BRFksQ0FDSixVQURJLEVBRVpDLFNBRlksQ0FFRixpQkFBUztBQUNsQixhQUFPLHNCQUFFQyxLQUFGLEVBQ0pDLEdBREksQ0FDQTtBQUFBLGVBQVFDLEtBQUtDLFlBQWI7QUFBQSxPQURBLEVBRUpDLElBRkksR0FHSkMsS0FISSxFQUFQO0FBSUQsS0FQWSxFQVFaQSxLQVJZLEVBQWY7QUFTQSxVQUFNQyxRQUFRLE1BQU1DLFFBQVFaLEdBQVIsQ0FDbEIsc0JBQUVFLE1BQUYsRUFDR0ksR0FESCxDQUNPLFVBQUNPLFVBQUQsRUFBYUMsS0FBYixFQUF1QjtBQUMxQixhQUFPRixRQUFRWixHQUFSLENBQ0xhLFdBQVdQLEdBQVgsQ0FBZSxxQkFBYTtBQUMxQixlQUFPLGVBQUtTLGVBQUwsQ0FBcUIsT0FBckIsRUFBOEJELEtBQTlCLEVBQXFDRSxTQUFyQyxDQUFQO0FBQ0QsT0FGRCxDQURLLENBQVA7QUFLRCxLQVBILEVBUUdOLEtBUkgsRUFEa0IsQ0FBcEI7QUFXQWIsUUFBSW9CLElBQUosQ0FBUztBQUNQQyxlQUFTLElBREY7QUFFUFA7QUFGTyxLQUFUO0FBSUQsRzs7V0EzQjZCUSxLOzs7O1NBQUFBLEsiLCJmaWxlIjoidHJpcHMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvYXBwL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBndGZzIGZyb20gJ2d0ZnMnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gdHJpcHMocmVxLCByZXMpIHtcbiAgY29uc3Qgcm91dGVJZCA9IHJlcS5ib2R5LnJvdXRlSWQ7XG4gIGNvbnN0IGFsbCA9IGF3YWl0IGd0ZnMuZ2V0RGlyZWN0aW9uc0J5Um91dGUoJ21pYW1pJywgcm91dGVJZCk7XG4gIGNvbnN0IHJvdXRlcyA9IF8oYWxsKVxuICAgIC5ncm91cEJ5KCdyb3V0ZV9pZCcpXG4gICAgLm1hcFZhbHVlcyhncm91cCA9PiB7XG4gICAgICByZXR1cm4gXyhncm91cClcbiAgICAgICAgLm1hcCh0cmlwID0+IHRyaXAuZGlyZWN0aW9uX2lkKVxuICAgICAgICAudW5pcSgpXG4gICAgICAgIC52YWx1ZSgpO1xuICAgIH0pXG4gICAgLnZhbHVlKCk7XG4gIGNvbnN0IHN0b3BzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgXyhyb3V0ZXMpXG4gICAgICAubWFwKChkaXJlY3Rpb25zLCByb3V0ZSkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgZGlyZWN0aW9ucy5tYXAoZGlyZWN0aW9uID0+IHtcbiAgICAgICAgICAgIHJldHVybiBndGZzLmdldFN0b3BzQnlSb3V0ZSgnbWlhbWknLCByb3V0ZSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC52YWx1ZSgpXG4gICk7XG4gIHJlcy5zZW5kKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIHN0b3BzXG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "trips.js"
      ],
      "names": [
        "req",
        "res",
        "routeId",
        "body",
        "all",
        "getDirectionsByRoute",
        "routes",
        "groupBy",
        "mapValues",
        "group",
        "map",
        "trip",
        "direction_id",
        "uniq",
        "value",
        "stops",
        "Promise",
        "directions",
        "route",
        "getStopsByRoute",
        "direction",
        "send",
        "success",
        "trips"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;;;;+BAEe,WAAqBA,GAArB,EAA0BC,GAA1B,EAA+B;AAC5C,UAAMC,UAAUF,IAAIG,IAAJ,CAASD,OAAzB;AACA,UAAME,MAAM,MAAM,eAAKC,oBAAL,CAA0B,OAA1B,EAAmCH,OAAnC,CAAlB;AACA,UAAMI,SAAS,sBAAEF,GAAF,EACZG,OADY,CACJ,UADI,EAEZC,SAFY,CAEF,iBAAS;AAClB,aAAO,sBAAEC,KAAF,EACJC,GADI,CACA;AAAA,eAAQC,KAAKC,YAAb;AAAA,OADA,EAEJC,IAFI,GAGJC,KAHI,EAAP;AAID,KAPY,EAQZA,KARY,EAAf;AASA,UAAMC,QAAQ,MAAMC,QAAQZ,GAAR,CAClB,sBAAEE,MAAF,EACGI,GADH,CACO,UAACO,UAAD,EAAaC,KAAb,EAAuB;AAC1B,aAAOF,QAAQZ,GAAR,CACLa,WAAWP,GAAX,CAAe,qBAAa;AAC1B,eAAO,eAAKS,eAAL,CAAqB,OAArB,EAA8BD,KAA9B,EAAqCE,SAArC,CAAP;AACD,OAFD,CADK,CAAP;AAKD,KAPH,EAQGN,KARH,EADkB,CAApB;AAWAb,QAAIoB,IAAJ,CAAS;AACPC,eAAS,IADF;AAEPP;AAFO,KAAT;AAID,G;;WA3B6BQ,K;;;;SAAAA,K",
      "file": "trips.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nimport _ from 'lodash';\n\nexport default async function trips(req, res) {\n  const routeId = req.body.routeId;\n  const all = await gtfs.getDirectionsByRoute('miami', routeId);\n  const routes = _(all)\n    .groupBy('route_id')\n    .mapValues(group => {\n      return _(group)\n        .map(trip => trip.direction_id)\n        .uniq()\n        .value();\n    })\n    .value();\n  const stops = await Promise.all(\n    _(routes)\n      .map((directions, route) => {\n        return Promise.all(\n          directions.map(direction => {\n            return gtfs.getStopsByRoute('miami', route, direction);\n          })\n        );\n      })\n      .value()\n  );\n  res.send({\n    success: true,\n    stops\n  });\n}\n"
      ]
    },
    "mtime": 1518216785000
  },
  "{\"filename\":\"/home/app/routes/protobuf.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"root\":[\"./\"]}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lib/gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/protobuf.js",
      "filenameRelative": "/home/app/routes/protobuf.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "protobuf.js",
      "sourceFileName": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "protobuf"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('../lib/gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = (() => {\n  var _ref = _asyncToGenerator(function* (req, res) {\n    try {\n      const buffer = yield (0, _gtfs2.default)('http://transit.tsomobile.com/miami/RealTimeFeed-miami');\n      res.send(buffer);\n    } catch (error) {\n      console.log(error);\n      res.send('Epic Fail');\n    }\n  });\n\n  function protobuf(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return protobuf;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3RvYnVmLmpzIl0sIm5hbWVzIjpbInJlcSIsInJlcyIsImJ1ZmZlciIsInNlbmQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJwcm90b2J1ZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7Ozs7OzsrQkFFZSxXQUF3QkEsR0FBeEIsRUFBNkJDLEdBQTdCLEVBQWtDO0FBQy9DLFFBQUk7QUFDRixZQUFNQyxTQUFTLE1BQU0sb0JBQ25CLHVEQURtQixDQUFyQjtBQUdBRCxVQUFJRSxJQUFKLENBQVNELE1BQVQ7QUFDRCxLQUxELENBS0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2RDLGNBQVFDLEdBQVIsQ0FBWUYsS0FBWjtBQUNBSCxVQUFJRSxJQUFKLENBQVMsV0FBVDtBQUNEO0FBQ0YsRzs7V0FWNkJJLFE7Ozs7U0FBQUEsUSIsImZpbGUiOiJwcm90b2J1Zi5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHAvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGd0ZnMgZnJvbSAnbGliL2d0ZnMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBwcm90b2J1ZihyZXEsIHJlcykge1xuICB0cnkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGd0ZnMoXG4gICAgICAnaHR0cDovL3RyYW5zaXQudHNvbW9iaWxlLmNvbS9taWFtaS9SZWFsVGltZUZlZWQtbWlhbWknXG4gICAgKTtcbiAgICByZXMuc2VuZChidWZmZXIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICByZXMuc2VuZCgnRXBpYyBGYWlsJyk7XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "protobuf.js"
      ],
      "names": [
        "req",
        "res",
        "buffer",
        "send",
        "error",
        "console",
        "log",
        "protobuf"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;;+BAEe,WAAwBA,GAAxB,EAA6BC,GAA7B,EAAkC;AAC/C,QAAI;AACF,YAAMC,SAAS,MAAM,oBACnB,uDADmB,CAArB;AAGAD,UAAIE,IAAJ,CAASD,MAAT;AACD,KALD,CAKE,OAAOE,KAAP,EAAc;AACdC,cAAQC,GAAR,CAAYF,KAAZ;AACAH,UAAIE,IAAJ,CAAS,WAAT;AACD;AACF,G;;WAV6BI,Q;;;;SAAAA,Q",
      "file": "protobuf.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'lib/gtfs';\n\nexport default async function protobuf(req, res) {\n  try {\n    const buffer = await gtfs(\n      'http://transit.tsomobile.com/miami/RealTimeFeed-miami'\n    );\n    res.send(buffer);\n  } catch (error) {\n    console.log(error);\n    res.send('Epic Fail');\n  }\n}\n"
      ]
    },
    "mtime": 1517270326000
  },
  "{\"filename\":\"/home/app/lib/gtfs/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"root\":[\"./\"]}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/lib/gtfs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "protobufjs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ProtoBuf"
              }
            ]
          },
          {
            "source": "request",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "gtfs",
            "url"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "gtfs",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "url",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/app/lib/gtfs/index.js",
      "filenameRelative": "/home/app/lib/gtfs/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/lib/gtfs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = gtfs;\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _protobufjs = require('protobufjs');\n\nvar _protobufjs2 = _interopRequireDefault(_protobufjs);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction decode(feedBuffer) {\n  const builder = _protobufjs2.default.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  const transit = builder.build('transit_realtime');\n  const result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise((resolve, reject) => {\n    (0, _request2.default)(options, (err, res, body) => {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nfunction gtfs(url) {\n  const options = {\n    url,\n    method: 'get',\n    encoding: null\n  };\n\n  return loadGTFSRealtimeFeed(options).then(feedBuffer => {\n    const result = decode(feedBuffer);\n    return result;\n  }).catch(err => err);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImd0ZnMiLCJkZWNvZGUiLCJmZWVkQnVmZmVyIiwiYnVpbGRlciIsImxvYWRQcm90b0ZpbGUiLCJ0cmFuc2l0IiwiYnVpbGQiLCJyZXN1bHQiLCJGZWVkTWVzc2FnZSIsImxvYWRHVEZTUmVhbHRpbWVGZWVkIiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwicmVzIiwiYm9keSIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1c0NvZGUiLCJ1cmwiLCJtZXRob2QiLCJlbmNvZGluZyIsInRoZW4iLCJjYXRjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBMkJ3QkEsSTs7QUEzQnhCOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0MsTUFBVCxDQUFnQkMsVUFBaEIsRUFBNEI7QUFDMUIsUUFBTUMsVUFBVSxxQkFBU0MsYUFBVCxDQUF1Qiw4QkFBdkIsQ0FBaEI7QUFDQSxRQUFNQyxVQUFVRixRQUFRRyxLQUFSLENBQWMsa0JBQWQsQ0FBaEI7QUFDQSxRQUFNQyxTQUFTRixRQUFRRyxXQUFSLENBQW9CUCxNQUFwQixDQUEyQkMsVUFBM0IsQ0FBZjtBQUNBLFNBQU9LLE1BQVA7QUFDRDs7QUFFRCxTQUFTRSxvQkFBVCxDQUE4QkMsT0FBOUIsRUFBdUM7QUFDckMsU0FBTyxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDLDJCQUFRSCxPQUFSLEVBQWlCLENBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ25DLFVBQUlGLEdBQUosRUFBUztBQUNQRyxnQkFBUUMsS0FBUixDQUFjSixHQUFkLEVBQW1CRSxJQUFuQjtBQUNBSCxlQUFPQyxHQUFQO0FBQ0Q7QUFDRCxVQUFJQyxJQUFJSSxVQUFKLEtBQW1CLEdBQXZCLEVBQTRCO0FBQzFCRixnQkFBUUMsS0FBUixDQUFjRixJQUFkO0FBQ0FILGVBQU9HLElBQVA7QUFDRDtBQUNESixjQUFRSSxJQUFSO0FBQ0QsS0FWRDtBQVdELEdBWk0sQ0FBUDtBQWFEOztBQUVjLFNBQVNoQixJQUFULENBQWNvQixHQUFkLEVBQW1CO0FBQ2hDLFFBQU1WLFVBQVU7QUFDZFUsT0FEYztBQUVkQyxZQUFRLEtBRk07QUFHZEMsY0FBVTtBQUhJLEdBQWhCOztBQU1BLFNBQU9iLHFCQUFxQkMsT0FBckIsRUFDSmEsSUFESSxDQUNDckIsY0FBYztBQUNsQixVQUFNSyxTQUFTTixPQUFPQyxVQUFQLENBQWY7QUFDQSxXQUFPSyxNQUFQO0FBQ0QsR0FKSSxFQUtKaUIsS0FMSSxDQUtFVixPQUFPQSxHQUxULENBQVA7QUFNRCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHAvbGliL2d0ZnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBQcm90b0J1ZiBmcm9tICdwcm90b2J1ZmpzJztcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3JlcXVlc3QnO1xuXG5mdW5jdGlvbiBkZWNvZGUoZmVlZEJ1ZmZlcikge1xuICBjb25zdCBidWlsZGVyID0gUHJvdG9CdWYubG9hZFByb3RvRmlsZSgnbGliL2d0ZnMvZ3Rmcy1yZWFsdGltZS5wcm90bycpO1xuICBjb25zdCB0cmFuc2l0ID0gYnVpbGRlci5idWlsZCgndHJhbnNpdF9yZWFsdGltZScpO1xuICBjb25zdCByZXN1bHQgPSB0cmFuc2l0LkZlZWRNZXNzYWdlLmRlY29kZShmZWVkQnVmZmVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbG9hZEdURlNSZWFsdGltZUZlZWQob3B0aW9ucykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlcXVlc3Qob3B0aW9ucywgKGVyciwgcmVzLCBib2R5KSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLCBib2R5KTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICBpZiAocmVzLnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGJvZHkpO1xuICAgICAgICByZWplY3QoYm9keSk7XG4gICAgICB9XG4gICAgICByZXNvbHZlKGJvZHkpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ3Rmcyh1cmwpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmwsXG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICBlbmNvZGluZzogbnVsbFxuICB9O1xuXG4gIHJldHVybiBsb2FkR1RGU1JlYWx0aW1lRmVlZChvcHRpb25zKVxuICAgIC50aGVuKGZlZWRCdWZmZXIgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZGVjb2RlKGZlZWRCdWZmZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gZXJyKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "gtfs",
        "decode",
        "feedBuffer",
        "builder",
        "loadProtoFile",
        "transit",
        "build",
        "result",
        "FeedMessage",
        "loadGTFSRealtimeFeed",
        "options",
        "Promise",
        "resolve",
        "reject",
        "err",
        "res",
        "body",
        "console",
        "error",
        "statusCode",
        "url",
        "method",
        "encoding",
        "then",
        "catch"
      ],
      "mappings": ";;;;;kBA2BwBA,I;;AA3BxB;;;;AACA;;;;AACA;;;;;;AAEA,SAASC,MAAT,CAAgBC,UAAhB,EAA4B;AAC1B,QAAMC,UAAU,qBAASC,aAAT,CAAuB,8BAAvB,CAAhB;AACA,QAAMC,UAAUF,QAAQG,KAAR,CAAc,kBAAd,CAAhB;AACA,QAAMC,SAASF,QAAQG,WAAR,CAAoBP,MAApB,CAA2BC,UAA3B,CAAf;AACA,SAAOK,MAAP;AACD;;AAED,SAASE,oBAAT,CAA8BC,OAA9B,EAAuC;AACrC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,2BAAQH,OAAR,EAAiB,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACnC,UAAIF,GAAJ,EAAS;AACPG,gBAAQC,KAAR,CAAcJ,GAAd,EAAmBE,IAAnB;AACAH,eAAOC,GAAP;AACD;AACD,UAAIC,IAAII,UAAJ,KAAmB,GAAvB,EAA4B;AAC1BF,gBAAQC,KAAR,CAAcF,IAAd;AACAH,eAAOG,IAAP;AACD;AACDJ,cAAQI,IAAR;AACD,KAVD;AAWD,GAZM,CAAP;AAaD;;AAEc,SAAShB,IAAT,CAAcoB,GAAd,EAAmB;AAChC,QAAMV,UAAU;AACdU,OADc;AAEdC,YAAQ,KAFM;AAGdC,cAAU;AAHI,GAAhB;;AAMA,SAAOb,qBAAqBC,OAArB,EACJa,IADI,CACCrB,cAAc;AAClB,UAAMK,SAASN,OAAOC,UAAP,CAAf;AACA,WAAOK,MAAP;AACD,GAJI,EAKJiB,KALI,CAKEV,OAAOA,GALT,CAAP;AAMD",
      "file": "index.js",
      "sourceRoot": "/home/app/lib/gtfs",
      "sourcesContent": [
        "import path from 'path';\nimport ProtoBuf from 'protobufjs';\nimport request from 'request';\n\nfunction decode(feedBuffer) {\n  const builder = ProtoBuf.loadProtoFile('lib/gtfs/gtfs-realtime.proto');\n  const transit = builder.build('transit_realtime');\n  const result = transit.FeedMessage.decode(feedBuffer);\n  return result;\n}\n\nfunction loadGTFSRealtimeFeed(options) {\n  return new Promise((resolve, reject) => {\n    request(options, (err, res, body) => {\n      if (err) {\n        console.error(err, body);\n        reject(err);\n      }\n      if (res.statusCode !== 200) {\n        console.error(body);\n        reject(body);\n      }\n      resolve(body);\n    });\n  });\n}\n\nexport default function gtfs(url) {\n  const options = {\n    url,\n    method: 'get',\n    encoding: null\n  };\n\n  return loadGTFSRealtimeFeed(options)\n    .then(feedBuffer => {\n      const result = decode(feedBuffer);\n      return result;\n    })\n    .catch(err => err);\n}\n"
      ]
    },
    "mtime": 1517366788000
  },
  "{\"filename\":\"/home/app/routes/importGTFS.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"root\":[\"./\"]}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/app/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gtfs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gtfs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/app/routes/importGTFS.js",
      "filenameRelative": "/home/app/routes/importGTFS.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "root": [
              "./"
            ]
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "importGTFS.js",
      "sourceFileName": "importGTFS.js",
      "sourceRoot": "/home/app/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/app/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "importGTFS"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gtfs = require('gtfs');\n\nvar _gtfs2 = _interopRequireDefault(_gtfs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nconst config = require('../config.json');\n\nexports.default = (() => {\n  var _ref = _asyncToGenerator(function* (req, res) {\n    res.send('Starting import!');\n    try {\n      yield _gtfs2.default.import(config);\n      console.log('Successfully imported!');\n    } catch (err) {\n      console.log(err);\n    }\n  });\n\n  function importGTFS(_x, _x2) {\n    return _ref.apply(this, arguments);\n  }\n\n  return importGTFS;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltcG9ydEdURlMuanMiXSwibmFtZXMiOlsiY29uZmlnIiwicmVxdWlyZSIsInJlcSIsInJlcyIsInNlbmQiLCJpbXBvcnQiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwiaW1wb3J0R1RGUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7Ozs7O0FBQ0EsTUFBTUEsU0FBU0MsUUFBUSxnQkFBUixDQUFmOzs7K0JBRWUsV0FBMEJDLEdBQTFCLEVBQStCQyxHQUEvQixFQUFvQztBQUNqREEsUUFBSUMsSUFBSixDQUFTLGtCQUFUO0FBQ0EsUUFBSTtBQUNGLFlBQU0sZUFBS0MsTUFBTCxDQUFZTCxNQUFaLENBQU47QUFDQU0sY0FBUUMsR0FBUixDQUFZLHdCQUFaO0FBQ0QsS0FIRCxDQUdFLE9BQU9DLEdBQVAsRUFBWTtBQUNaRixjQUFRQyxHQUFSLENBQVlDLEdBQVo7QUFDRDtBQUNGLEc7O1dBUjZCQyxVOzs7O1NBQUFBLFUiLCJmaWxlIjoiaW1wb3J0R1RGUy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hcHAvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGd0ZnMgZnJvbSAnZ3Rmcyc7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuLi9jb25maWcuanNvbicpO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBpbXBvcnRHVEZTKHJlcSwgcmVzKSB7XG4gIHJlcy5zZW5kKCdTdGFydGluZyBpbXBvcnQhJyk7XG4gIHRyeSB7XG4gICAgYXdhaXQgZ3Rmcy5pbXBvcnQoY29uZmlnKTtcbiAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGltcG9ydGVkIScpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "importGTFS.js"
      ],
      "names": [
        "config",
        "require",
        "req",
        "res",
        "send",
        "import",
        "console",
        "log",
        "err",
        "importGTFS"
      ],
      "mappings": ";;;;;;AAAA;;;;;;;;AACA,MAAMA,SAASC,QAAQ,gBAAR,CAAf;;;+BAEe,WAA0BC,GAA1B,EAA+BC,GAA/B,EAAoC;AACjDA,QAAIC,IAAJ,CAAS,kBAAT;AACA,QAAI;AACF,YAAM,eAAKC,MAAL,CAAYL,MAAZ,CAAN;AACAM,cAAQC,GAAR,CAAY,wBAAZ;AACD,KAHD,CAGE,OAAOC,GAAP,EAAY;AACZF,cAAQC,GAAR,CAAYC,GAAZ;AACD;AACF,G;;WAR6BC,U;;;;SAAAA,U",
      "file": "importGTFS.js",
      "sourceRoot": "/home/app/routes",
      "sourcesContent": [
        "import gtfs from 'gtfs';\nconst config = require('../config.json');\n\nexport default async function importGTFS(req, res) {\n  res.send('Starting import!');\n  try {\n    await gtfs.import(config);\n    console.log('Successfully imported!');\n  } catch (err) {\n    console.log(err);\n  }\n}\n"
      ]
    },
    "mtime": 1517270326000
  }
}